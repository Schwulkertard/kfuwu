
political_actions = {
	SRI_begin_the_cultural_revolution = {# Begin the Cultural Revolution
		icon = generic_political_discourse
		allowed = { original_tag = SRI }
		visible = {
			has_completed_focus = SRI_cement_chairmans_power
			has_socialist_government = yes
		}
		fire_only_once = yes
		cost = 80
		ai_will_do = { factor = 70 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_begin_the_cultural_revolution"
			SRI = {	country_event = socitaly.111 }
		}
	}
}

economy_decisions = {
	SRI_civ_in_piedmont = {
		icon = generic_industry
		allowed = { tag = SRI }
		highlight_states = { state = 158 }
		available = {
			ROOT = {
				controls_state = 158
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 158
		}
		fire_only_once = yes
		cost = freedec?0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_civ_in_piedmont"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_piedmont"
			158 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_civ_in_liguria = {
		icon = generic_industry
		allowed = { tag = SRI }
		highlight_states = { state = 838 }
		available = {
			ROOT = {
				controls_state = 838
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 838
		}
		fire_only_once = yes
		cost = freedec?0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_civ_in_liguria"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_liguria"
			838 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_civ_in_tuscany = {
		icon = generic_industry
		allowed = { tag = SRI }
		highlight_states = { state = 162 }
		available = {
			ROOT = {
				controls_state = 162
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				AND = {
					has_completed_focus = SRI_militerized_economy
					has_completed_focus = SRI_focus_on_civilian
				}
			}
			owns_state = 162
		}
		fire_only_once = yes
		cost = freedec?0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_civ_in_tuscany"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_tuscany"
			162 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_piedmont = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { state = 158 }
		available = {
			ROOT = {
				controls_state = 158
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 158
		}
		fire_only_once = yes
		cost = freedec?0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_piedmont"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_piedmont"
			158 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_romagna = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { state = 161 }
		available = {
			ROOT = {
				controls_state = 161
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 161
		}
		fire_only_once = yes
		cost = freedec?0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_romagna"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_romagna"
			161 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_emilia = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { state = 1004 }
		available = {
			ROOT = {
				controls_state = 1004
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_militerized_economy
			owns_state = 1004
		}
		fire_only_once = yes
		cost = freedec?0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_emilia"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_emilia"
			1004 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_umbria = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { state = 1005 }
		available = {
			ROOT = {
				controls_state = 1005
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_militerized_economy
			has_completed_focus = SRI_focus_on_military
			owns_state = 1005
		}
		fire_only_once = yes
		cost = freedec?0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_umbria"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_umbria"
			1005 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_synth_in_liguria = {
		icon = oil
		allowed = { tag = SRI }
		highlight_states = { state = 838 }
		available = {
			ROOT = {
				has_tech = synth_oil_experiments
				controls_state = 838
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_synethetic_research
			owns_state = 838
		}
		fire_only_once = yes
		cost = 100
		days_remove = 60
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_synth_in_liguria"
			set_country_flag = { flag = SRI_building_industry days = 60 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_synth_in_liguria"
			838 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_fuel_in_piedmont = {
		icon = oil
		allowed = { tag = SRI }
		highlight_states = { state = 158 }
		available = {
			ROOT = {
				controls_state = 158
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_synethetic_research
			owns_state = 158
		}
		fire_only_once = yes
		cost = 50
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_fuel_in_piedmont"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_fuel_in_piedmont"
			158 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_radar_in_liguria = {
		icon = GFX_decision_radar
		allowed = { tag = SRI }
		highlight_states = { state = 838 }
		available = {
			ROOT = {
				has_tech = radio_detection
				controls_state = 838
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_support_uri
			owns_state = 838
		}
		fire_only_once = yes
		cost = 25
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_radar_in_liguria"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_radar_in_liguria"
			838 = {
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_radar_in_ancona = {
		icon = GFX_decision_radar
		allowed = { tag = SRI }
		highlight_states = { state = 157 }
		available = {
			ROOT = {
				has_tech = radio_detection
				controls_state = 157
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_support_uri
			owns_state = 157
		}
		fire_only_once = yes
		cost = 25
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_radar_in_ancona"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_radar_in_ancona"
			157 = {
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_emilia2 = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { state = 1004 }
		available = {
			ROOT = {
				controls_state = 1004
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_military_build_up
			owns_state = 1004
		}
		fire_only_once = yes
		cost = 50
		days_remove = 60
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_emilia2"
			set_country_flag = { flag = SRI_building_industry days = 60 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_emilia2"
			1004 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_marches2 = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { state = 157 }
		available = {
			ROOT = {
				controls_state = 157
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_military_build_up
			owns_state = 157
		}
		fire_only_once = yes
		cost = 50
		days_remove = 60
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_marches2"
			set_country_flag = { flag = SRI_building_industry days = 60 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_marches2"
			157 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
}

ITA_foreign_policy = {# Foreign Policy Stuff
	SRI_join_the_intl = {
		icon = generic_political_discourse

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					NOT = { has_global_flag = KR_italy_balance }
				}
			}
			if = {
				limit = { FROM = { has_war = yes } }
				FROM = {
					NOT = { has_capitulated = yes }
				}
			}
		}

		visible = {
			is_in_faction = no
			has_socialist_government = yes
			NOT = { has_country_flag = SRI_refused_intl_membership }
			FROM = {
				exists = yes
				has_socialist_government = yes
				is_faction_leader = yes
			}
		}
		
		targets = { FRA ENG }
		target_root_trigger = { is_in_faction = no }
		target_trigger = {
			FROM = {
				has_socialist_government = yes
				is_faction_leader = yes
			}
		}

		cost = freedec?0
		fire_only_once = yes

		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				NOT = { country_exists = FRA }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_join_the_intl"
			clr_global_flag = KR_italy_balance
			FROM = { country_event = comfrance.169 }
		}
	}

	SRI_Join_Phalanstere = {
		icon = generic_research
		allowed = { original_tag = SRI }
		available = {
			has_global_flag = scientific_phalanstere
		}
		visible = {
			has_global_flag = scientific_phalanstere
			NOT = { is_in_tech_sharing_group = phalanstere_research }
			OR = {
				is_in_faction_with = FRA
				is_in_faction_with = ENG
			}
		}
		fire_only_once = yes
		cost = freedec?0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_Join_Phalanstere"
			add_to_tech_sharing_group = phalanstere_research
		}
		ai_will_do = {
			factor = 5
		}
	}

	SRI_Assist_Damocles_Project = {
		icon = generic_research
		allowed = { original_tag = SRI }
		available = { has_country_flag = SRI_pisa_pile_1 }
		visible = {
			ENG = { has_completed_focus = ENG_westminster_project }
			has_socialist_government = yes
			is_in_faction_with = ENG
		}
		fire_only_once = yes
		cost = 50
		days_remove = 150
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_Assist_Damocles_Project"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_Assist_Damocles_Project"
			add_tech_bonus = {
				name = SRI_Assist_Damocles_Project
				bonus = 1
				uses = 1
				category = nuclear
			}
		}
		ai_will_do = {
			factor = 1
		}
	}

	SRI_rally_supporters = {
		icon = generic_civil_support
		allowed = { tag = SRI }
		available = {
			ROOT = {
				has_capitulated = no
			}
			ITA = {
				has_capitulated = no
				controls_state = 159
				controls_state = 160
			}
		}

		visible = {
			has_war_with = ITA
			NOT = { has_country_flag = SRI_rallied_supporters }
			ITA = {
				owns_state = 159
				owns_state = 160
			}
		}

		fire_only_once = no
		cost = 100
		days_remove = 30
		priority = 5
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_rally_supporters"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_rally_supporters"
			if = {
				limit = {
					has_war_with = ITA
					has_capitulated = no
					ITA = {
						OR = {
							controls_state = 159
							controls_state = 160
						}
					}
				}
				set_country_flag = SRI_rallied_supporters
				add_manpower = 60000
				if = {
					limit = { has_tech = infantry_weapons1 }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 3000 producer = SRI }
				}
				else = {
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 3000 producer = SRI }
				}
				custom_effect_tooltip = SRI_supporters_raised
				hidden_effect = {
					load_oob = SRI_partisans
					ITA = { country_event = socitaly.126 }
				}
			}
			else = {
				add_political_power = 100
			}
		}
	}

	SRI_attack_italy = {
		icon = generic_prepare_civil_war
		allowed = { tag = SRI }

		available = {
			ROOT = {
				is_subject = no
				if = {
					limit = { has_global_flag = KR_italy_balance }
					has_war = no
				}
				else = {
					controls_all_owned_states = yes
				}
				if = {
					limit = {
						FROM = {
							OR = {
								tag = ITA
							}
						}
					}
					has_completed_focus = SRI_reenforce_the_po_line
				}
				else_if = {
					limit = {
						FROM = {
							OR = {
								tag = PAP
								tag = SIC
							}
						}
					}
					has_completed_focus = SRI_reenforce_the_south
				}
				has_completed_focus = SRI_reenforce_the_coast
			}
			can_declare_war_on = FROM
		}

		visible = {
			FROM = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_neighbor_of = ROOT
					NOT = {
						any_owned_state = {
							OR = {
								region = 181 #Po Region
								region = 23 #Italy
							}
						}
					}
				}
			}
		}

		targets = { ITA SIC SRD PAP VNC TUS }

		target_trigger = {
			FROM = {
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes
		cost = freedec?0
		days_remove = 20
		war_with_target_on_remove = yes
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				has_global_flag = KR_italy_balance
				FROM = {
					OR = {
						is_in_faction = yes
						is_subject = yes
						strength_ratio = { tag = ROOT ratio > 0.75 }
					}
				}
			}
			modifier = {
				factor = 0
				# don't violate the balance unless it's mid-way through 1938
				has_global_flag = KR_italy_balance
				FROM = {
					OR = {
						tag = ITA
						tag = SIC
					}
				}
				date < 1938.6.1
			}
			modifier = {
				factor = 2
				FROM = { tag = SIC }
			}
			modifier = {
				factor = 0.5
				FROM = {
					OR = {
						tag = PAP
						tag = SRD
					}
				}
			}
			modifier = {
				factor = 0
				FROM = { tag = SRD }
				OR = {
					country_exists = ITA
					country_exists = SIC
				}
			}
			modifier = {
				factor = 0
				FROM = {
					tag = PAP
					OR = {
						is_subject_of = SIC
						is_guaranteed_by = SIC
						is_in_faction_with = SIC
					}
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					OR = {
						is_in_faction_with = CAN
						is_in_faction_with = GER
					}
				}
			}
			modifier = {
				factor = 0
				has_navy_size = { size < 200 type = convoy }
				NOT = { is_neighbor_of = FROM }
			}
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					strength_ratio = { tag = FROM ratio < 0.75 }
					# neither of us is in a faction and FROM is stronger
					AND = {
						FROM = {
							is_in_faction = no
							is_subject = no
						}
						is_in_faction = no
						strength_ratio = { tag = FROM ratio < 1.0 }
					}
					# they're in a faction which is not at war
					FROM = {
						OR = {
							is_in_faction = yes
							is_subject = yes
						}
						has_war = no
					}
					# they're in a faction which is at war but not with a major and not losing
					FROM = {
						is_in_faction = yes
						has_war = yes
						NOT = {
							any_enemy_country = {
								OR = {
									tag = GER
									tag = AUS
									tag = FRA
								}
							}
							surrender_progress > 0.10
							any_allied_country = {
								is_faction_leader = yes
								surrender_progress > 0.20
							}
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_attack_italy target: [From.GetName]"
			add_war_support = 0.10
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_attack_italy target: [From.GetName]"
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
}