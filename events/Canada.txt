###########################
# Canada Events
###########################

add_namespace = canada

# Intro events
country_event = {
	id = canada.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.1" }
	title = canada.1.t
	desc = canada.1.d
	picture = GFX_report_event_CAN_refugees

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = canada.1.a
		hidden_effect = {
			country_event = { id = canada.2 days = 1 }
			country_event = { id = canada.4 days = 18 } #Death of George V
			country_event = { id = canada.24 days = 73 } #Call for election
			country_event = { id = canada.20 days = 98 } #1936 Stanley Cup
			country_event = { id = canada.29 days = 237 } #Duplessis becomes Premier of Quebec
			country_event = { id = canada.72 days = 1095 random = 4320 } #J.S. Woodsworth loses CCF leadership to Coldwell
			country_event = { id = canada.70 days = 2928 } #Mackenzie King Retires
			country_event = { id = canada.71 days = 3289 } #R.B. Bennett Retires
		}
	}
}

country_event = {
	id = canada.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.2" }
	title = canada.1.t
	desc = canada.2.d
	picture = GFX_report_event_CAN_parliament1

	is_triggered_only = yes

	option = {
		name = canada.2.a
		hidden_effect = {
			country_event = { id = canada.3 days = 1 }
		}
	}
}

country_event = {
	id = canada.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.3" }
	title = canada.1.t
	desc = canada.3.d
	picture = GFX_report_event_CAN_propaganda

	is_triggered_only = yes

	option = {
		name = canada.3.a
	}
}

# Death of King George V
country_event = {
	id = canada.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.4" }
	title = canada.4.t
	desc = canada.4.d
	picture = GFX_report_event_CAN_death_george

	is_triggered_only = yes

	trigger = {
		has_country_leader = { name = "George V" ruling_only = yes }
	}

	option = {
		name = canada.4.a
		clr_global_flag = CAN_king_george_V
		set_global_flag = CAN_king_edward_VIII
		set_country_flag = CAN_king_coronation_pending
		set_variable = { king_popularity = 2 }
		set_variable = { global.king_edward_story = 0 }
		add_stability = -0.05
		custom_effect_tooltip = CAN_king_speech_unlocked
		hidden_effect = {
			CAN_create_monarchy = yes
			# official coronation
			country_event = { id = canada.5 days = 90 }
			# country-specific death events
			if = {
				limit = { country_exists = DEH }
				DEH = { country_event = delhi.3 }
			}
			if = {
				limit = { country_exists = AST }
				AST = { country_event = austral.3 }
			}
			# main news events
			random_other_country = {
				news_event = { id = worldnews.28 days = 1 }
			}
		}
	}
}

# Coronation of King Edward
country_event = {
	id = canada.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.5" }
	title = canada.5.t
	desc = canada.5.d
	picture = GFX_report_event_CAN_coronation

	is_triggered_only = yes

	trigger = {
		has_country_leader = { name = "Edward VIII" ruling_only = yes }
	}

	option = {
		name = canada.5.a
		add_stability = 0.05
		clr_global_flag = CAN_king_busy
		clr_country_flag = CAN_king_coronation_pending
		custom_effect_tooltip = CAN_king_coronated
		custom_effect_tooltip = CAN_king_popularity_increase
		add_to_variable = { king_popularity = 1 }
		CAN_calc_royal_visit_effects = yes
		hidden_effect = {
			country_event = { id = entente.50 days = 60 } #begin random royal events
		}
	}
}

# The King's First Address
country_event = {
	id = canada.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.6" }
	title = canada.6.t
	desc = canada.6.d
	picture = GFX_report_event_CAN_edward2

	is_triggered_only = yes

	option = {
		name = canada.6.a #He will prepare the nation for war
		ai_chance = {
			factor = 50
		}
		set_country_flag = CAN_address_war
		hidden_effect = {
			country_event = { id = canada.7 days = 1 }
		}
	}
	option = {
		name = canada.6.b #He will endorse the Conservatives
		ai_chance = {
			factor = 30
		}
		set_country_flag = CAN_address_cons
		hidden_effect = {
			country_event = { id = canada.7 days = 1 }
		}
	}
	option = {
		name = canada.6.c #He will support the Canadian government
		ai_chance = {
			factor = 20
		}
		set_country_flag = CAN_address_gov
		hidden_effect = {
			country_event = { id = canada.7 days = 1 }
		}
	}
}

# Results of the Address
country_event = {
	id = canada.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.7" }
	picture = GFX_report_event_CAN_microphone

	title = {
		text = canada.7.t.war
		trigger = { has_country_flag = CAN_address_war }
	}
	title = {
		text = canada.7.t.cons
		trigger = { has_country_flag = CAN_address_cons }
	}
	title = {
		text = canada.7.t.gov
		trigger = { has_country_flag = CAN_address_gov }
	}

	desc = {
		text = canada.7.d.war
		trigger = { has_country_flag = CAN_address_war }
	}
	desc = {
		text = canada.7.d.cons
		trigger = { has_country_flag = CAN_address_cons }
	}
	desc = {
		text = canada.7.d.gov
		trigger = { has_country_flag = CAN_address_gov }
	}

	is_triggered_only = yes

	option = {
		name = canada.7.a #We must liberate our brothers in Britain!
		trigger = { has_country_flag = CAN_address_war }
		clr_country_flag = CAN_address_war
		add_war_support = 0.10
		if = {
			limit = { check_variable = { king_influence < 5 } }
			custom_effect_tooltip = CAN_exile_influence_increase
			add_to_variable = { king_influence = 1 }
			CAN_calc_exile_influence_effects = yes
		}
		add_to_variable = { CAN_conservative_support = 1 }
		add_popularity = { ideology = authoritarian_democrat popularity = 0.05 }
		add_popularity = { ideology = social_conservative popularity = 0.05 }
	}
	option = {
		name = canada.7.b #This election will be vital for our future!
		trigger = { has_country_flag = CAN_address_cons }
		clr_country_flag = CAN_address_cons
		add_war_support = 0.05
		add_political_power = 50
		if = {
			limit = { check_variable = { king_popularity < 5 } }
			custom_effect_tooltip = CAN_king_popularity_increase
			add_to_variable = { king_popularity = 1 }
			CAN_calc_royal_visit_effects = yes
		}
		add_to_variable = { CAN_conservative_support = 2 }
		add_popularity = { ideology = social_conservative popularity = 0.10 }
	}
	option = {
		name = canada.7.c #The 20th century shall be Canada's Century!
		trigger = { has_country_flag = CAN_address_gov }
		clr_country_flag = CAN_address_gov
		add_to_variable = { CAN_liberal_support = 1 }
		add_political_power = 100
		add_stability = 0.03
		add_war_support = -0.05
		add_popularity = { ideology = market_liberal popularity = 0.05 }
	}
}

# Status of the Privy Council (fired by focus)
country_event = {
	id = canada.8
	title = canada.8.t
	desc = canada.8.d
	picture = GFX_report_event_CAN_cabinet

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.8"
		hidden_effect = {
			remove_ideas = CAN_Austen_Chamberlain_lobe_ade
			GBR = { clr_country_flag = GBR_Chamberlain_PM }
		}
	}

	option = {
		name = canada.8.a #Let the king pick his replacement
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0.5
				has_government = market_liberal
				check_variable = { CAN_liberal_support < 1 }
			}
		}
		add_war_support = 0.05
		GBR = { set_country_flag = GBR_Croft_PM }
		add_ideas = CAN_Henry_Page_Croft_lobe_pau
		if = {
			limit = { check_variable = { king_influence < 5 } }
			custom_effect_tooltip = CAN_exile_influence_increase
			add_to_variable = { king_influence = 1 }
			CAN_calc_exile_influence_effects = yes
		}
		add_to_variable = { CAN_conservative_support = 1 }
	}
	option = {
		name = canada.8.b #We should push for a moderate candidate
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0.25
				has_government = social_conservative
				check_variable = { CAN_conservative_support > 0 }
			}
			modifier = {
				factor = 0.5
				has_government = social_conservative
				check_variable = { CAN_conservative_support < 1 }
			}
		}
		add_political_power = 50
		GBR = { set_country_flag = GBR_Cecil_PM }
		add_ideas = CAN_Robert_Cecil_lobe_ade
		if = {
			limit = { check_variable = { king_influence > 0 } }
			custom_effect_tooltip = CAN_exile_influence_decrease
			subtract_from_variable = { king_influence = 1 }
			CAN_calc_exile_influence_effects = yes
		}
		add_to_variable = { CAN_liberal_support = 1 }
	}
	option = {
		name = canada.8.c #A vote by the Exiles should be organized
		ai_chance = {
			factor = 20
		}
		GBR = { set_country_flag = GBR_Eden_PM }
		add_ideas = CAN_Anthony_Eden_lobe_ade
		add_stability = 0.03
		increase_ruling_party_popularity_by_5 = yes
	}
}

# Fate of the Senate (fired by focus)
country_event = {
	id = canada.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.9" }
	title = canada.9.t
	desc = canada.9.d
	picture = GFX_report_event_CAN_commons2

	is_triggered_only = yes

	option = {
		name = canada.9.a #We need reform at once!
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0.1
				has_government = social_conservative
			}
		}
		random_list = {
			40 = { country_event = canada.10 }
			60 = { country_event = canada.11 }
		}
	}
	option = {
		name = canada.9.b #Urge the king to pick Canadians
		ai_chance = {
			factor = 40
		}
		add_stability = 0.03
		add_political_power = 50
	}
	option = {
		name = canada.9.c #It's the king's prerogative to choose as he wishes
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0.1
				has_government = market_liberal
			}
		}
		add_political_power = 100
		add_popularity = { ideology = authoritarian_democrat popularity = 0.10 }
		if = {
			limit = { check_variable = { king_influence < 5 } }
			custom_effect_tooltip = CAN_exile_influence_increase
			add_to_variable = { king_influence = 1 }
			CAN_calc_exile_influence_effects = yes
		}
		add_to_variable = { CAN_conservative_support = 1 }
	}
}

# The Senate refuses the bill
country_event = {
	id = canada.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.10" }
	title = canada.10.t
	desc = canada.10.d
	picture = GFX_report_event_CAN_commons2

	is_triggered_only = yes

	option = {
		name = canada.10.a
		add_political_power = -50
		add_popularity = { ideology = market_liberal popularity = 0.05 }
		if = {
			limit = { check_variable = { king_popularity > 0 } }
			custom_effect_tooltip = CAN_king_popularity_decrease
			subtract_from_variable = { king_popularity = 1 }
			CAN_calc_royal_visit_effects = yes
		}
	}
}

# The Senate agrees to the bill
country_event = {
	id = canada.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.11" }
	title = canada.11.t
	desc = canada.11.d
	picture = GFX_report_event_CAN_commons2

	is_triggered_only = yes

	option = {
		name = canada.11.a
		set_country_flag = CAN_has_senate_reform
		add_political_power = 100
		add_to_variable = { CAN_liberal_support = 1 }
		add_popularity = { ideology = social_conservative popularity = -0.05 }
		if = {
			limit = { check_variable = { king_influence > 0 } }
			custom_effect_tooltip = CAN_exile_influence_decrease
			subtract_from_variable = { king_influence = 1 }
			CAN_calc_exile_influence_effects = yes
		}
	}
}

# Picking Head of the Navy (fired by focus)
country_event = {
	id = canada.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.12" }
	title = canada.12.t
	desc = canada.12.d
	picture = GFX_report_event_ast_navy

	is_triggered_only = yes

	option = {
		name = canada.12.a #Percy Nelles
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.50
				has_government = social_conservative
			}
			modifier = {
				factor = 0.10
				has_authoritarian_government = yes
			}
		}
		add_ideas = CAN_Percy_Nelles_cnav_mli
		if = {
			limit = { check_variable = { king_influence > 1 } }
			custom_effect_tooltip = CAN_exile_influence_decrease
			subtract_from_variable = { king_influence = 1 }
			CAN_calc_exile_influence_effects = yes
		}
	}
	option = {
		name = canada.12.b #Sir Roger Backhouse
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.50
				has_government = market_liberal
			}
		}
		decrease_ruling_party_popularity_by_5 = yes
		add_ideas = CAN_Sir_Roger_Backhouse_cnav_pau
		if = {
			limit = { check_variable = { king_influence < 5 } }
			custom_effect_tooltip = CAN_exile_influence_increase
			add_to_variable = { king_influence = 1 }
			CAN_calc_exile_influence_effects = yes
		}
	}
}

# Picking Head of the Army {fired by focus}
country_event = {
	id = canada.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.13" }
	title = canada.13.t
	desc = canada.13.d
	picture = GFX_report_event_CAN_army3

	is_triggered_only = yes

	option = {
		name = canada.13.a #Georges Vanier
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.50
				has_government = social_conservative
			}
			modifier = {
				factor = 0.10
				has_authoritarian_government = yes
			}
		}
		add_ideas = CAN_Georges_Vanier_carm_sco
		if = {
			limit = { check_variable = { king_influence > 1 } }
			custom_effect_tooltip = CAN_exile_influence_decrease
			subtract_from_variable = { king_influence = 1 }
			CAN_calc_exile_influence_effects = yes
		}
	}
	option = {
		name = canada.13.b #J.F.C. "Boney" Fuller
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.50
				has_government = market_liberal
			}
		}
		decrease_ruling_party_popularity_by_5 = yes
		add_ideas = CAN_JFC_Fuller_carm_ade
		if = {
			limit = { check_variable = { king_influence < 5 } }
			custom_effect_tooltip = CAN_exile_influence_increase
			add_to_variable = { king_influence = 1 }
			CAN_calc_exile_influence_effects = yes
		}
	}
}

# Picking Chief of Staff
country_event = {
	id = canada.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.14" }
	title = canada.14.t
	desc = canada.14.d
	picture = GFX_report_event_CAN_army3

	fire_only_once = yes

	trigger = {
		tag = CAN
		has_war_with = ENG
		has_country_flag = KR_british_king_base
		NOT = { has_idea_with_trait = chief_of_staff }
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = canada.14.a #Sir Edmund Ironside
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				has_government = social_conservative
			}
		}
		add_ideas = CAN_Sir_Edmund_Ironside_cos_pau
		add_political_power = 50
	}
	option = {
		name = canada.14.b #Sir Archibald Montgomery-Massingberd
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				has_government = social_conservative
			}
		}
		add_ideas = CAN_Archibald_Montgomery_Massingberd_cos_pau
		add_political_power = 50
	}
	option = {
		name = canada.14.c #Harry Crerar
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				has_government = market_liberal
			}
			modifier = {
				factor = 0
				has_authoritarian_government = yes
			}
		}
		add_ideas = CAN_Henry_Crerar_cos_mli
		add_war_support = 0.10
	}
	option = {
		name = canada.14.e #Kenneth Stuart
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				has_government = market_liberal
			}
			modifier = {
				factor = 0
				has_authoritarian_government = yes
			}
		}
		add_ideas = CAN_Kenneth_Stuart_cos_mli
		add_war_support = 0.10
	}
}


### Begin pre-election events

# 1936 Stanley Cup Finals
country_event = {
	id = canada.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.20" }
	title = canada.20.t
	desc = canada.20.d
	picture = GFX_report_event_CAN_hockey

	is_triggered_only = yes
	major = yes

	show_major = {
		OR = {
			tag = CAN
			tag = USA
		}
	}

	option = {
		name = canada.20.a
		trigger = { tag = CAN }
		hidden_effect = {
			random_list = {
				55 = {
					country_event = { id = canada.21 days = 2 } #Detroit wins
				}
				45 = {
					country_event = { id = canada.22 days = 2 } #Toronto wins
				}
			}
		}
	}
	option = {
		name = canada.20.b
		trigger = { tag = USA }
	}
}

# Detroit wins
country_event = {
	id = canada.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.21" }
	title = canada.21.t
	desc = canada.21.d
	picture = GFX_report_event_CAN_redwings

	is_triggered_only = yes
	major = yes

	show_major = {
		OR = {
			tag = CAN
			tag = USA
		}
	}

	option = {
		name = canada.21.a
		trigger = { tag = CAN }
	}
	option = {
		name = canada.21.b
		trigger = { tag = USA }
	}
}

# Toronto wins
country_event = {
	id = canada.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.22" }
	title = canada.22.t
	desc = canada.22.d
	picture = GFX_report_event_CAN_mapleleafs

	is_triggered_only = yes
	major = yes

	show_major = {
		OR = {
			tag = CAN
			tag = USA
		}
	}

	option = {
		name = canada.22.a
		trigger = { tag = CAN }
	}
	option = {
		name = canada.22.b
		trigger = { tag = USA }
	}
}

# Black Monday hits Canada
country_event = {
	id = canada.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.23" }
	title = canada.23.t
	desc = canada.23.d
	picture = GFX_report_event_CAN_mission

	is_triggered_only = yes

	option = {
		name = canada.23.a
		add_stability = -0.05
		if = {
			limit = { has_idea = CAN_great_depression_3 }
			swap_ideas = {
				remove_idea = CAN_great_depression_3
				add_idea = CAN_great_depression_2
			}
		}
		else_if = {
			limit = { has_idea = CAN_great_depression_2 }
			swap_ideas = {
				remove_idea = CAN_great_depression_2
				add_idea = CAN_great_depression_1
			}
		}
		else = {
			add_ideas = CAN_great_depression_3
		}
	}
}

# Government calls for election
country_event = {
	id = canada.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.24" }
	title = canada.24.t
	desc = canada.24.d
	picture = GFX_report_event_CAN_commons2

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		NOT = { has_country_flag = CAN_had_1936_election }
	}

	option = {
		name = canada.24.a
		hidden_effect = {
			country_event = { id = canada.25 days = 20 }
		}
	}
}

# Bennett accuses government of not doing enough
country_event = {
	id = canada.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.25" }
	title = canada.25.t
	desc = canada.25.d
	picture = GFX_report_event_CAN_bennett

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		NOT = { has_country_flag = CAN_had_1936_election }
	}

	option = {
		name = canada.25.a
		add_to_variable = { CAN_conservative_support = 1 }
		add_popularity = { ideology = social_conservative popularity = 0.05 }
		hidden_effect = {
			country_event = { id = canada.26 days = 20 random = 240 }
		}
	}
}

# CCF appeals to the unemployed
country_event = {
	id = canada.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.26" }
	title = canada.26.t
	desc = canada.26.d
	picture = GFX_report_event_CAN_ccf

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		NOT = { has_country_flag = CAN_had_1936_election }
	}

	option = {
		name = canada.26.a
		add_popularity = { ideology = social_democrat popularity = 0.05 }
		add_popularity = { ideology = syndicalist popularity = 0.02 }
		hidden_effect = {
			country_event = { id = canada.27 days = 20 random = 240 }
		}
	}
}

# The Conscription Debate Begins
country_event = {
	id = canada.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.27" }
	title = canada.27.t
	desc = canada.27.d
	picture = GFX_report_event_CAN_protest

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		NOT = { has_country_flag = CAN_had_1936_election }
	}

	option = {
		name = canada.27.a
		add_stability = -0.03
		add_ideas = CAN_divided_nation
		hidden_effect = {
			country_event = { id = canada.28 days = 20 random = 240 }
		}
	}
}

# Orange Order demonstrations at King speech
country_event = {
	id = canada.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.28" }
	title = canada.28.t
	desc = canada.28.d
	picture = GFX_report_event_king_speech

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		NOT = { has_country_flag = CAN_had_1936_election }
	}

	option = {
		name = canada.28.a #They shouldn't have been there
		add_stability = -0.02
		add_to_variable = { CAN_liberal_support = 1 }
		add_popularity = { ideology = market_liberal popularity = 0.05 }
		hidden_effect = {
			country_event = { id = canada.30 days = 10 random = 120 }
		}
	}
	option = {
		name = canada.28.b #They were unfairly provoked
		add_stability = -0.02
		add_to_variable = { CAN_conservative_support = 1 }
		add_popularity = { ideology = social_conservative popularity = 0.05 }
		hidden_effect = {
			country_event = { id = canada.30 days = 10 random = 120 }
		}
	}
}

# Maurice Duplessis becomes Premier of Quebec
country_event = {
	id = canada.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.29" }
	title = canada.29.t
	desc = canada.29.d
	picture = GFX_report_event_CAN_duplessis

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
	}

	option = {
		name = canada.29.a
		set_country_flag = CAN_duplessis_is_premier
		swap_ideas = {
			remove_idea = CAN_anglo_french_tensions_2
			add_idea = CAN_anglo_french_tensions_1
		}
	}
}

# March against conscription
country_event = {
	id = canada.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.30" }
	title = canada.30.t
	desc = canada.30.d
	picture = GFX_report_event_gathering_protest

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		NOT = { has_country_flag = CAN_had_1936_election }
	}

	option = {
		name = canada.30.a
		add_stability = -0.03
		add_popularity = { ideology = market_liberal popularity = 0.05 }
		hidden_effect = {
			country_event = { id = canada.31 days = 40 random = 240 }
		}
	}
}

# Bennett attacks reporter over conscription
country_event = {
	id = canada.31
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.31" }
	title = canada.31.t
	desc = canada.31.d
	picture = GFX_report_event_CAN_bennett

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		NOT = { has_country_flag = CAN_had_1936_election }
	}

	option = {
		name = canada.31.a #He's willing to fight
		add_stability = -0.02
		add_to_variable = { CAN_conservative_support = 1 }
		add_popularity = { ideology = social_conservative popularity = 0.05 }
		hidden_effect = {
			country_event = { id = canada.32 days = 10 random = 120 }
		}
	}
	option = {
		name = canada.31.b #He's an embarrassment
		add_stability = -0.02
		add_to_variable = { CAN_liberal_support = 1 }
		add_popularity = { ideology = market_liberal popularity = 0.05 }
		hidden_effect = {
			country_event = { id = canada.32 days = 10 random = 120 }
		}
	}
}

# H.H. Stevens and the Nationalist Party
country_event = {
	id = canada.32
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.32" }
	title = canada.32.t
	desc = canada.32.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		NOT = { has_country_flag = CAN_had_1936_election }
	}

	option = {
		name = canada.32.a
		add_popularity = { ideology = national_populist popularity = 0.05 }
	}
}

# Canada at war prior to the elections
country_event = {
	id = canada.33
	title = canada.33.t
	desc = canada.33.d
	picture = GFX_report_event_CAN_edward3

	fire_only_once = yes

	trigger = {
		tag = CAN
		has_war = yes
		has_elected_government = yes
		has_country_flag = KR_british_king_base
		NOT = { has_country_flag = CAN_had_1936_election }
	}

	mean_time_to_happen = {
		days = 3
	}

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.33"
		hidden_effect = {
			random_country = {
				limit = {
					has_war_with = CAN
					OR = {
						is_faction_leader = yes
						is_in_faction = no
					}
				}
				save_event_target_as = war_country
			}
		}
	}

	option = {
		name = canada.33.a
		add_to_variable = { CAN_conservative_support = 1 }
		add_popularity = { ideology = social_conservative popularity = 0.05 }
	}
}

# Complaints about conditions at labour camps (triggered by focus)
country_event = {
	id = canada.34
	title = canada.34.t
	desc = canada.34.d
	picture = GFX_report_event_CAN_camp

	is_triggered_only = yes

	trigger = {
		OR = {
			has_idea = CAN_work_camps
			has_idea = CAN_work_camps_2
		}
	}

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.34"
		hidden_effect = {
			add_popularity = { ideology = social_democrat popularity = 0.05 }
		}
	}

	option = {
		name = canada.34.a # Shut down the camps
		ai_chance = {
			factor = 20
			modifier = {
				factor = 2
				has_government = market_liberal
			}
			modifier = {
				factor = 0.5
				has_government = social_conservative
			}
		}
		set_country_flag = CAN_camps_shut_down
		add_political_power = 25
		if = {
			limit = { has_idea = CAN_work_camps }
			remove_ideas = CAN_work_camps
		}
		if = {
			limit = { has_idea = CAN_work_camps_2 }
			remove_ideas = CAN_work_camps_2
		}
	}
	option = {
		name = canada.34.b # Improve conditions
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0.5
				has_government = social_conservative
			}
		}
		add_political_power = -50
		if = {
			limit = { has_idea = CAN_work_camps_2 }
			swap_ideas = {
				remove_idea = CAN_work_camps_2
				add_idea = CAN_work_camps
			}
		}
		hidden_effect = {
			country_event = { id = canada.35 days = 730 random = 1440 }
		}
	}
	option = {
		name = canada.34.c # These men should be grateful!
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				has_authoritarian_government = yes
			}
			modifier = {
				factor = 0.5
				has_government = market_liberal
			}
			modifier = {
				factor = 0.5
				has_country_flag = CAN_lib_ccf_coalition
			}
		}
		decrease_ruling_party_popularity_by_5  = yes
		hidden_effect = {
			country_event = { id = canada.35 days = 365 random = 1440 }
		}
	}
}

# The 'March on Ottawa'
country_event = {
	id = canada.35
	title = canada.35.t
	desc = canada.35.d
	picture = GFX_report_event_CAN_camp

	is_triggered_only = yes

	trigger = {
		OR = {
			has_idea = CAN_work_camps
			has_idea = CAN_work_camps_2
		}
	}

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.35"
		hidden_effect = {
			decrease_ruling_party_popularity_by_5 = yes
		}
	}

	option = {
		name = canada.35.a # Shut down the camps
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				has_government = market_liberal
			}
			modifier = {
				factor = 0.5
				has_government = social_conservative
			}
		}
		set_country_flag = CAN_camps_shut_down
		if = {
			limit = { has_idea = CAN_work_camps }
			remove_ideas = CAN_work_camps
		}
		if = {
			limit = { has_idea = CAN_work_camps_2 }
			remove_ideas = CAN_work_camps_2
		}
	}
	option = {
		name = canada.35.b # Improve conditions
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				has_authoritarian_government = yes
			}
			modifier = {
				factor = 0.5
				has_government = market_liberal
			}
			modifier = {
				factor = 0.5
				has_country_flag = CAN_lib_ccf_coalition
			}
		}
		set_country_flag = CAN_camps_not_shut_down
		add_political_power = -50
		if = {
			limit = { has_idea = CAN_work_camps_2 }
			swap_ideas = {
				remove_idea = CAN_work_camps_2
				add_idea = CAN_work_camps
			}
		}
	}
}

# Unemployment Insurance proposed
country_event = {
	id = canada.36
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.36" }
	title = canada.36.t
	picture = GFX_report_event_CAN_camp

	desc = {
		text = canada.36.d.camps
		trigger = { has_country_flag = CAN_camps_not_shut_down }
	}
	desc = {
		text = canada.36.d.nocamps
		trigger = { has_country_flag = CAN_camps_shut_down }
	}

	fire_only_once = yes

	trigger = {
		tag = CAN
		date > 1940.1.1
		OR = {
			has_government = market_liberal
			has_government = social_liberal
			has_government = social_democrat
		}
		OR = {
			has_country_flag = CAN_camps_not_shut_down
			has_country_flag = CAN_camps_shut_down
		}
		OR = {
			has_war = no
			surrender_progress < 0.10
		}
	}

	mean_time_to_happen = {
		months = 3
	}

	option = {
		name = canada.36.a # Pass the new law
		ai_chance = {
			factor = 70
			modifier = {
				factor = 2
				has_government = social_democrat
			}
		}
		add_political_power = -50
		add_popularity = { ideology = social_democrat popularity = 0.05 }
		if = {
			limit = { has_idea = CAN_work_camps }
			swap_ideas = {
				remove_idea = CAN_work_camps
				add_idea = CAN_unemployment_insurance_idea
			}
		}
		else_if = {
			limit = { has_idea = CAN_work_camps_2 }
			swap_ideas = {
				remove_idea = CAN_work_camps_2
				add_idea = CAN_unemployment_insurance_idea
			}
		}
		else = {
			add_ideas = CAN_unemployment_insurance_idea
		}
	}
	option = {
		name = canada.36.b # Just get rid of the camps
		trigger = {
			OR = {
				has_idea = CAN_work_camps
				has_idea = CAN_work_camps_2
			}
		}
		ai_chance = {
			factor = 20
		}
		add_stability = -0.05
		add_popularity = { ideology = social_democrat popularity = 0.05 }
		if = {
			limit = { has_idea = CAN_work_camps }
			remove_ideas = CAN_work_camps
		}
		if = {
			limit = { has_idea = CAN_work_camps_2 }
			remove_ideas = CAN_work_camps_2
		}
	}
	option = {
		name = canada.36.c # We are fine as we are
		trigger = {
			NOT = { has_government = social_democrat }
		}
		ai_chance = {
			factor = 10
		}
		add_stability = -0.05
		decrease_ruling_party_popularity_by_5 = yes
		add_popularity = { ideology = social_democrat popularity = 0.10 }
	}
}

# Anti-Syndicalism on the Canadian Broadcasting Corp (triggered by focus)
country_event = {
	id = canada.37
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.37" }
	title = canada.37.t
	desc = canada.37.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	trigger = {
		has_idea = CAN_cbc_idea
		not_has_socialist_government = yes
		country_exists = ENG
	}

	option = {
		name = canada.37.a #The CBC is fine as it is
		ai_chance = {
			factor = 40
		}
		add_political_power = 25
	}
	option = {
		name = canada.37.b #Put Reith in charge of the CBC
		ai_chance = {
			factor = 30
		}
		add_stability = -0.02
		add_popularity = { ideology = social_democrat popularity = -0.03 }
		add_popularity = { ideology = syndicalist popularity = -0.03 }
	}
	option = {
		name = canada.37.c #Put Reith in charge, so long as he focuses attention on our foes abroad
		ai_chance = {
			factor = 40
		}
		add_war_support = 0.10
		every_country = {
			limit = { has_socialist_government = yes }
			add_opinion_modifier = { target = CAN modifier = KR_hates_govt }
		}
	}
}

# Billy Bishop demands more priority for the airforce
country_event = {
	id = canada.38
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.38" }
	title = canada.38.t
	desc = canada.38.d
	picture = SWE_aircraft

	is_triggered_only = yes

	trigger = {
		has_idea = CAN_William_Avery_Bishop_cair_ade
	}

	option = {
		name = canada.38.a #Bishop is a good man and I trust his methods
		ai_chance = {
			factor = 75
		}
		add_political_power = -50
		add_manpower = -5000
		add_tech_bonus = {
			name = canada.38.t
			bonus = 1
			uses = 2
			category = air_equipment
			category = air_doctrine
		}
	}
	option = {
		name = canada.38.b #The air force will get no more of a priority
		ai_chance = {
			factor = 25
		}
	}
}

# Naval Exercises in the Atlantic (triggered by focus)
country_event = {
	id = canada.39
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.39" }
	title = canada.39.t
	desc = canada.39.d
	picture = NOR_navy

	is_triggered_only = yes

	trigger = {
		NOT = { has_war_with = ENG }
	}

	option = {
		name = canada.39.a #Conduct a large exercise off the coast of Britain and Ireland
		trigger = { country_exists = ENG }
		ai_chance = {
			factor = 50
		}
		navy_experience = 50
		ENG = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = canada.40
		}
	}
	option = {
		name = canada.39.b #Conduct a large exercise in the North Sea
		trigger = {
			country_exists = GER
			NOT = { has_war_with = GER }
		}
		ai_chance = {
			factor = 10
		}
		navy_experience = 50
		GER = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = canada.40
		}
	}
	option = {
		name = canada.39.c #Conduct a large exercise off the American Coast
		trigger = {
			country_exists = USA
			NOT = { has_war_with = USA }
			OR = {
				NOT = { has_global_flag = USA_civil_war_begun_flag }
				has_global_flag = USA_civil_war_over_flag
			}
		}
		ai_chance = {
			factor = 10
		}
		navy_experience = 50
		USA = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = canada.40
		}
	}
	option = {
		name = canada.39.e
		ai_chance = {
			factor = 30
		}
		navy_experience = 25
	}
}

# Country alarmed by naval exercises
country_event = {
	id = canada.40
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.40" }
	title = canada.40.t
	desc = canada.40.d
	picture = NOR_navy

	is_triggered_only = yes

	option = {
		name = canada.40.a #We'll play their game
		ai_chance = {
			factor = 90
		}
		effect_tooltip = {
			random_list = {
				60 = { country_event = canada.41 }
				40 = { country_event = canada.42 }
			}
		}
		hidden_effect = {
			random_list = {
				60 = {
					country_event = { id = canada.41 days = 3 }
					CAN = { country_event = { id = canada.42 days = 3 } }
				}
				40 = {
					country_event = { id = canada.42 days = 3 }
					CAN = { country_event = { id = canada.41 days = 3 } }
				}
			}
		}
	}
	option = {
		name = canada.40.b #Ignore them
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				tag = ENG
			}
		}
		add_political_power = -30
	}
}

# Lost the naval games
country_event = {
	id = canada.41
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.41" }
	title = canada.41.t
	picture = NOR_navy

	desc = {
		text = canada.41.can
		trigger = { tag = CAN }
	}
	desc = {
		text = canada.41.oth
		trigger = { NOT = { tag = CAN } }
	}

	is_triggered_only = yes

	option = {
		name = canada.41.a
		navy_experience = 25
		add_political_power = -50
		add_timed_idea = {
			idea = CAN_navy_games_lost
			days = 180
		}
	}
}

# Won the naval games
country_event = {
	id = canada.42
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.42" }
	title = canada.42.t
	picture = NOR_navy

	desc = {
		text = canada.42.can
		trigger = { tag = CAN }
	}
	desc = {
		text = canada.42.oth
		trigger = { NOT = { tag = CAN } }
	}

	is_triggered_only = yes

	option = {
		name = canada.42.a
		trigger = { tag = CAN }
		navy_experience = 50
		add_political_power = 50
		add_timed_idea = {
			idea = CAN_navy_games_won
			days = 180
		}
	}
	option = {
		name = canada.42.b
		trigger = { NOT = { tag = CAN } }
		navy_experience = 25
		add_political_power = 50
		add_timed_idea = {
			idea = CAN_navy_games_won
			days = 180
		}
	}
}


### ELECTION EVENTS

# 1936 Election
country_event = {
	id = canada.50
	title = canada.50.t
	desc = canada.50.d
	picture = GFX_report_event_CAN_election

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		NOT = { has_country_flag = CAN_had_1936_election }
	}

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.50"
		remove_all_ministers = yes
		hidden_effect = {
			remove_ideas_with_trait = leader_of_the_british_exiles
			multiply_variable = { CAN_conservative_support = 10 }
			multiply_variable = { CAN_liberal_support = 10 }
		}
	}

	option = {
		name = canada.50.a #Liberals under Mackenzie King
		ai_chance = {
			factor = 50
			modifier = {
				add = CAN_liberal_support
			}
			modifier = {
				add = 10
				check_variable = { king_popularity < 3 }
				check_variable = { king_popularity > 1 }
			}
			modifier = {
				add = 20
				check_variable = { king_popularity < 2 }
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CAN_political_path
					option = CAN_POLITICAL_PATH_CONSERVATIVE
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CAN_political_path
					option = CAN_POLITICAL_PATH_AUTHORITARIAN
				}
			}
		}
		clear_variable = CAN_conservative_support
		clear_variable = CAN_liberal_support
		set_country_flag = CAN_had_1936_election
		add_popularity = { ideology = market_liberal popularity = 0.20 }
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		hidden_effect = {
			add_ideas = CAN_William_Lyon_Mackenzie_King_hog_mli
			if = {
				limit = { has_country_flag = KR_british_king_base }
				CAN_add_british_pm_in_exile = yes
			}
			else = {
				add_ideas = CAN_Louis_St_Laurent_for_sli
			}
			add_ideas = CAN_CD_Howe_eco_mli
			add_ideas = CAN_Ernest_Lapointe_sec_mli
			country_event = { id = canada.51 days = 1 }
		}
	}
	option = {
		name = canada.50.b #Conservatives under R.B. Bennett
		ai_chance = {
			factor = 50
			modifier = {
				add = CAN_conservative_support
			}
			modifier = {
				add = 10
				check_variable = { king_popularity > 3 }
				check_variable = { king_popularity < 5 }
			}
			modifier = {
				add = 20
				check_variable = { king_popularity > 4 }
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CAN_political_path
					option = CAN_POLITICAL_PATH_LIBERAL
				}
			}
		}
		clear_variable = CAN_conservative_support
		clear_variable = CAN_liberal_support
		set_country_flag = CAN_had_1936_election
		add_popularity = { ideology = social_conservative popularity = 0.20 }
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 60
			elections_allowed = yes
		}
		hidden_effect = {
			add_ideas = CAN_RB_Bennett_hog_sco
			if = {
				limit = { has_country_flag = KR_british_king_base }
				CAN_add_british_pm_in_exile = yes
			}
			else = {
				add_ideas = CAN_Robert_Manion_for_sco
			}
			add_ideas = CAN_John_Bracken_eco_sco
			add_ideas = CAN_John_Diefenbaker_sec_sco
			country_event = { id = canada.51 days = 1 }
		}
	}
	option = {
		name = canada.50.c #Liberal Coalition with the CCF
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CAN_political_path
					option = CAN_POLITICAL_PATH_LIBERAL
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CAN_political_path
					option = CAN_POLITICAL_PATH_CONSERVATIVE
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CAN_political_path
					option = CAN_POLITICAL_PATH_AUTHORITARIAN
				}
			}
		}
		clear_variable = CAN_conservative_support
		clear_variable = CAN_liberal_support
		set_country_flag = CAN_had_1936_election
		set_country_flag = CAN_lib_ccf_coalition
		add_popularity = { ideology = market_liberal popularity = 0.10 }
		add_popularity = { ideology = social_democrat popularity = 0.10 }
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		hidden_effect = {
			add_ideas = CAN_William_Lyon_Mackenzie_King_hog_mli
			if = {
				limit = { has_country_flag = KR_british_king_base }
				CAN_add_british_pm_in_exile = yes
			}
			else = {
				add_ideas = CAN_Thomas_C_Douglas_for_sde
			}
			add_ideas = CAN_Hazen_Argue_eco_sde
			add_ideas = CAN_Douglas_Abbott_sec_mli
			country_event = { id = canada.51 days = 1 }
		}
	}
}

# King Congratulates Government
country_event = {
	id = canada.51
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.51" }
	picture = GFX_report_event_CAN_edward2

	title = {
		text = canada.51.t.lib
		trigger = {
			has_government = market_liberal
		}
	}
	title = {
		text = canada.51.t.con
		trigger = {
			has_government = social_conservative
		}
	}

	desc = {
		text = canada.51.d.lib
		trigger = {
			has_government = market_liberal
			NOT = { has_country_flag = CAN_lib_ccf_coalition }
		}
	}
	desc = {
		text = canada.51.d.libccf
		trigger = {
			has_government = market_liberal
			has_country_flag = CAN_lib_ccf_coalition
		}
	}
	desc = {
		text = canada.51.d.con
		trigger = {
			has_government = social_conservative
		}
	}

	is_triggered_only = yes

	option = {
		name = canada.51.a
		if = {
			limit = { has_country_flag = CAN_lib_ccf_coalition }
			add_stability = 0.05
		}
		else = {
			add_stability = 0.10
		}
	}
}

# Bill C-7 Debate Begins
country_event = {
	id = canada.52
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.52" }
	title = canada.52.t
	picture = GFX_report_event_CAN_commons1

	desc = {
		text = canada.52.d.lib
		trigger = { has_government = market_liberal }
	}
	desc = {
		text = canada.52.d.cons
		trigger = { has_government = social_conservative }
	}


	is_triggered_only = yes

	option = {
		name = canada.52.a
		hidden_effect = {
			if = {
				limit = { has_government = social_conservative }
				country_event = { id = canada.53 days = 5 }
			}
			else = {
				country_event = { id = canada.54 days = 5 }
			}
		}
	}
}

# Conservatives: Do we implement Full Conscription?
country_event = {
	id = canada.53
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.53" }
	title = canada.53.t
	desc = canada.53.d
	picture = GFX_report_event_CAN_commons1

	is_triggered_only = yes

	option = {
		name = canada.53.a #Full conscription
		ai_chance = {
			factor = 75
			modifier = {
				factor = 1.5
				has_war = yes
			}
			modifier = {
				add = 15
				has_idea = CAN_Henry_Page_Croft_lobe_pau
			}
		}
		set_country_flag = CAN_C7_full_cons
		custom_effect_tooltip = CAN_will_enact_full_conscription
		hidden_effect = {
			country_event = { id = canada.56 days = 20 } #Industry
		}
	}
	option = {
		name = canada.53.b #Limited conscription
		ai_chance = {
			factor = 25
			modifier = {
				add = 15
				has_country_flag = CAN_has_senate_reform
			}
			modifier = {
				add = 10
				has_idea = CAN_Robert_Cecil_lobe_ade
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CAN_political_path
					option = CAN_POLITICAL_PATH_AUTHORITARIAN
				}
			}
		}
		add_political_power = 25
		set_country_flag = CAN_C7_limited_cons
		custom_effect_tooltip = CAN_will_enact_limited_conscription
		hidden_effect = {
			country_event = { id = canada.56 days = 20 } #Industry
		}
	}
}

# Liberals: Do we implement Full Conscription?
country_event = {
	id = canada.54
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.54" }
	title = canada.54.t
	desc = canada.54.d
	picture = GFX_report_event_CAN_commons1

	is_triggered_only = yes

	option = {
		name = canada.54.a #No conscription, as promised
		ai_chance = {
			factor = 60
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				add = 20
				has_idea = CAN_Robert_Cecil_lobe_ade
			}
		}
		set_country_flag = CAN_C7_no_cons
		custom_effect_tooltip = CAN_will_enact_no_conscription
		hidden_effect = {
			country_event = { id = canada.56 days = 20 } #Industry
		}
	}
	option = {
		name = canada.54.b #Limited conscription
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0.5
				has_country_flag = CAN_has_senate_reform
			}
			modifier = {
				add = 10
				has_idea = CAN_Henry_Page_Croft_lobe_pau
			}
		}
		decrease_ruling_party_popularity_by_5 = yes
		set_country_flag = CAN_C7_limited_cons
		custom_effect_tooltip = CAN_will_enact_limited_conscription
		hidden_effect = {
			country_event = { id = canada.55 days = 5 } #Progressives break ranks
			country_event = { id = canada.56 days = 20 } #Industry
		}
	}
	option = {
		name = canada.54.c #Full conscription
		ai_chance = {
			factor = 0
		}
		decrease_ruling_party_popularity_by_10 = yes
		set_country_flag = CAN_C7_full_cons
		custom_effect_tooltip = CAN_will_enact_full_conscription
		hidden_effect = {
			country_event = { id = canada.55 days = 5 } #Progressives break ranks
			country_event = { id = canada.56 days = 20 } #Industry
		}
	}
}

# Progressives break ranks over Conscription
country_event = {
	id = canada.55
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.55" }
	title = canada.55.t
	picture = GFX_report_event_CAN_cabinet2

	desc = {
		text = canada.55.d.limccf
		trigger = {
			has_country_flag = CAN_C7_limited_cons
			has_country_flag = CAN_lib_ccf_coalition
		}
	}
	desc = {
		text = canada.55.d.limnoccf
		trigger = {
			has_country_flag = CAN_C7_limited_cons
			NOT = { has_country_flag = CAN_lib_ccf_coalition }
		}
	}
	desc = {
		text = canada.55.d.fullccf
		trigger = {
			has_country_flag = CAN_C7_full_cons
			has_country_flag = CAN_lib_ccf_coalition
		}
	}
	desc = {
		text = canada.55.d.fullnoccf
		trigger = {
			has_country_flag = CAN_C7_full_cons
			NOT = { has_country_flag = CAN_lib_ccf_coalition }
		}
	}

	is_triggered_only = yes

	option = {
		name = canada.55.a
		if = {
			limit = {
				has_country_flag = CAN_C7_limited_cons
				has_country_flag = CAN_lib_ccf_coalition
			}
			add_political_power = -50
		}
		else_if = {
			limit = {
				has_country_flag = CAN_C7_limited_cons
				NOT = { has_country_flag = CAN_lib_ccf_coalition }
			}
			add_political_power = -25
		}
		else_if = {
			limit = {
				has_country_flag = CAN_C7_full_cons
				has_country_flag = CAN_lib_ccf_coalition
			}
			add_political_power = -100
		}
		else_if = {
			limit = {
				has_country_flag = CAN_C7_full_cons
				NOT = { has_country_flag = CAN_lib_ccf_coalition }
			}
			add_political_power = -75
		}
	}
}

# Bill C-7: The Future of Canada's Industry
country_event = {
	id = canada.56
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.56" }
	title = canada.56.t
	desc = canada.56.d
	picture = GFX_report_event_generic_factory

	is_triggered_only = yes

	option = {
		name = canada.56.a #Liberal plan
		trigger = { has_government = market_liberal }
		ai_chance = {
			factor = 60
			modifier = {
				factor = 1.5
				has_idea = CAN_Robert_Cecil_lobe_ade
			}
		}
		set_country_flag = CAN_C7_econ_lib
		custom_effect_tooltip = CAN_will_build_civ_slots
		hidden_effect = {
			country_event = { id = canada.57 days = 20 } #Security
		}
	}
	option = {
		name = canada.56.b #Conservative plan
		trigger = { has_government = social_conservative }
		ai_chance = {
			factor = 60
			modifier = {
				factor = 1.5
				has_idea = CAN_Henry_Page_Croft_lobe_pau
			}
		}
		set_country_flag = CAN_C7_econ_conserv
		custom_effect_tooltip = CAN_will_build_mil_docks
		hidden_effect = {
			country_event = { id = canada.57 days = 20 } #Security
		}
	}
	option = {
		name = canada.56.c #Compromise plan
		ai_chance = {
			factor = 40
			modifier = {
				factor = 1.5
				has_country_flag = CAN_lib_ccf_coalition
			}
			modifier = {
				factor = 2
				has_government = social_conservative
				has_country_flag = CAN_has_senate_reform
			}
			modifier = {
				factor = 0.75
				has_government = social_conservative
				NOT = { has_country_flag = CAN_has_senate_reform }
			}
			modifier = {
				factor = 0.5
				has_government = market_liberal
				has_country_flag = CAN_has_senate_reform
			}
		}
		add_political_power = 25
		set_country_flag = CAN_C7_econ_comp
		custom_effect_tooltip = CAN_will_build_comp
		hidden_effect = {
			country_event = { id = canada.57 days = 20 } #Security
		}
	}
}

# Bill C-7: Domestic Security
country_event = {
	id = canada.57
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.57" }
	title = canada.57.t
	desc = canada.57.d
	picture = GFX_HOL_dutch_police

	is_triggered_only = yes

	option = {
		name = canada.57.a #Secret Police under Ormonde Winter
		ai_chance = {
			factor = 30
			modifier = {
				factor = 2
				has_government = social_conservative
			}
			modifier = {
				factor = 0.5
				has_government = market_liberal
				OR = {
					has_country_flag = CAN_C7_econ_comp
					has_country_flag = CAN_C7_limited_cons
					has_country_flag = CAN_C7_full_cons
				}
			}
			modifier = {
				factor = 0.1
				has_government = market_liberal
				has_country_flag = CAN_C7_full_cons
			}
		}
		add_political_power = 50
		decrease_ruling_party_popularity_by_10 = yes
		set_country_flag = CAN_C7_sec_winter
		custom_effect_tooltip = CAN_secret_police_winter
	}
	option = {
		name = canada.57.b #Secret Police under Ernest Lapointe
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0.5
				has_government = social_conservative
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CAN_political_path
					option = CAN_POLITICAL_PATH_AUTHORITARIAN
				}
			}
		}
		decrease_ruling_party_popularity_by_5 = yes
		set_country_flag = CAN_C7_sec_lapointe
		custom_effect_tooltip = CAN_secret_police_lapointe
	}
	option = {
		name = canada.57.c #We're all Canadian and we're all in it together!
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0.5
				has_government = social_conservative
			}
			modifier = {
				factor = 2
				has_country_flag = CAN_lib_ccf_coalition
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CAN_political_path
					option = CAN_POLITICAL_PATH_AUTHORITARIAN
				}
			}
		}
		set_country_flag = CAN_C7_sec_none
		increase_ruling_party_popularity_by_5 = yes
	}
}

# Voting on the Bill Begins
country_event = {
	id = canada.58
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.58" }
	title = canada.58.t
	desc = canada.58.d
	picture = GFX_report_event_CAN_commons1

	is_triggered_only = yes

	option = {
		name = canada.58.a
		trigger = { has_government = social_conservative }
		hidden_effect = {
			set_variable = { chance_pass = 100 }
			if = {
				limit = { NOT = { has_country_flag = CAN_has_senate_reform } }
				add_to_variable = { chance_pass = 10 }
			}
			if = {
				limit = {
					has_country_flag = CAN_C7_full_cons
					NOT = { has_idea = CAN_Henry_Page_Croft_lobe_pau }
				}
				subtract_from_variable = { chance_pass = 10 }
			}
			if = {
				limit = { has_country_flag = CAN_C7_econ_comp }
				add_to_variable = { chance_pass = 10 }
			}
			if = {
				limit = { has_country_flag = CAN_C7_sec_none }
				subtract_from_variable = { chance_pass = 10 }
			}
			if = {
				limit = { has_country_flag = CAN_C7_sec_lapointe }
				add_to_variable = { chance_pass = 10 }
			}
			set_variable = { vote = random }
			multiply_variable = { vote = 100 }
			if = {
				limit = { check_variable = { vote < chance_pass } }
				country_event = { id = canada.59 days = 1 }
			}
			else_if = {
				limit = {
					OR = {
						has_game_rule = {
							rule = CAN_political_path
							option = CAN_POLITICAL_PATH_CONSERVATIVE
						}
						has_game_rule = {
							rule = CAN_political_path
							option = CAN_POLITICAL_PATH_AUTHORITARIAN
						}
					}
				}
				country_event = { id = canada.59 days = 1 }
			}
			else = {
				country_event = { id = canada.61 days = 1 }
			}
		}
	}
	option = {
		name = canada.58.a
		trigger = { has_government = market_liberal }
		hidden_effect = {
			set_variable = { chance_pass = 100 }
			if = {
				limit = { has_country_flag = CAN_has_senate_reform }
				add_to_variable = { chance_pass = 10 }
			}
			if = {
				limit = { has_country_flag = CAN_lib_ccf_coalition }
				subtract_from_variable = { chance_pass = 30 }
			}
			if = {
				limit = { has_country_flag = CAN_C7_limited_cons }
				subtract_from_variable = { chance_pass = 10 }
			}
			if = {
				limit = { has_country_flag = CAN_C7_full_cons }
				subtract_from_variable = { chance_pass = 20 }
			}
			if = {
				limit = { has_country_flag = CAN_C7_econ_comp }
				add_to_variable = { chance_pass = 10 }
			}
			if = {
				limit = { has_country_flag = CAN_C7_sec_none }
				add_to_variable = { chance_pass = 10 }
			}
			if = {
				limit = {
					has_country_flag = CAN_lib_ccf_coalition
					has_country_flag = CAN_C7_sec_winter
					OR = {
						has_country_flag = CAN_C7_full_cons
						has_country_flag = CAN_C7_limited_cons
					}
				}
				add_to_variable = { chance_pass = 10 }
			}
			if = {
				limit = { has_idea = CAN_Robert_Cecil_lobe_ade }
				add_to_variable = { chance_pass = 10 }
			}
			set_variable = { vote = random }
			multiply_variable = { vote = 100 }
			if = {
				limit = { check_variable = { vote < chance_pass } }
				country_event = { id = canada.59 days = 1 }
			}
			else_if = {
				limit = {
					has_game_rule = {
						rule = CAN_political_path
						option = CAN_POLITICAL_PATH_LIBERAL
					}
				}
				country_event = { id = canada.59 days = 1 }
			}
			else = {
				country_event = { id = canada.61 days = 1 }
			}
		}
	}
}

# Bill C-7 Passes!
country_event = {
	id = canada.59
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.59" }
	title = canada.59.t
	desc = canada.59.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		name = canada.59.a
		add_political_power = 100
		if = {
			limit = { has_idea = CAN_divided_nation }
			remove_ideas = CAN_divided_nation
		}
		# add conscription changes
		if = {
			limit = { has_country_flag = CAN_C7_full_cons }
			clr_country_flag = cannot_have_conscription
			add_ideas = extensive_conscription
		}
		if = {
			limit = { has_country_flag = CAN_C7_limited_cons }
			clr_country_flag = cannot_have_conscription
			set_country_flag = cannot_have_extensive_conscription
			add_ideas = limited_conscription
		}
		if = {
			limit = { has_country_flag = CAN_C7_no_cons }
			add_ideas = CAN_professional_army
		}
		# add industry changes
		if = {
			limit = { has_country_flag = CAN_C7_econ_lib }
			add_ideas = CAN_billc7_liberal
			276 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			832 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			466 = {
				add_extra_state_shared_building_slots = 1
			}
			739 = {
				add_extra_state_shared_building_slots = 1
			}
		}
		if = {
			limit = { has_country_flag = CAN_C7_econ_conserv }
			add_ideas = CAN_billc7_tory
			276 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			464 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = { has_country_flag = CAN_C7_econ_comp }
			add_ideas = CAN_billc7_mix
			276 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			832 = {
				add_extra_state_shared_building_slots = 1
			}
		}
		# add security changes
		if = {
			limit = { has_country_flag = CAN_C7_sec_winter }
			add_ideas = CAN_mounties_1
			hidden_effect = { remove_ideas_with_trait = security_minister }
			add_ideas = CAN_Maxwell_Knight_sec_pau
		}
		if = {
			limit = { has_country_flag = CAN_C7_sec_lapointe }
			add_ideas = CAN_mounties_2
			hidden_effect = { remove_ideas_with_trait = security_minister }
			add_ideas = CAN_Ernest_Lapointe_sec_mli
		}

		set_country_flag = CAN_C7_passed
		clear_variable = chance_pass
		clear_variable = vote
		clr_country_flag = CAN_C7_full_cons
		clr_country_flag = CAN_C7_limited_cons
		clr_country_flag = CAN_C7_no_cons
		clr_country_flag = CAN_C7_econ_lib
		clr_country_flag = CAN_C7_econ_conserv
		clr_country_flag = CAN_C7_econ_comp
		clr_country_flag = CAN_C7_sec_winter
		clr_country_flag = CAN_C7_sec_lapointe

		hidden_effect = {
			if = {
				limit = { has_idea = extensive_conscription }
				country_event = { id = canada.100 days = 3 }
			}
			else_if = {
				limit = { has_idea = limited_conscription }
				country_event = { id = canada.60 days = 3 }
			}
			if = {
				limit = { has_government = market_liberal }
				country_event = { id = canada.63 days = 90 } #Meighen replaces Bennett
			}
		}
	}
}

# Quebec Demonstrations Over Limited Conscription
country_event = {
	id = canada.60
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.60" }
	title = canada.60.t
	picture = GFX_report_event_CAN_quebec1

	desc = {
		text = canada.60.d.cons
		trigger = { NOT = { has_government = market_liberal } }
	}
	desc = {
		text = canada.60.d.lib
		trigger = { has_government = market_liberal }
	}

	is_triggered_only = yes

	trigger = {
		controls_all_owned_states = yes
	}

	option = {
		name = canada.60.a
		add_stability = -0.05
		every_owned_state = {
			limit = {
				OR = {
					state = 466 #Quebec
					state = 468 #Saint Lawrence
					state = 832 #Montreal
				}
			}
			damage_building = {
				type = infrastructure
				damage = 1.0
			}
		}
	}
}

# Vote of No Confidence - Government Falls
country_event = {
	id = canada.62
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.62" }
	title = canada.62.t
	picture = GFX_report_event_AST_parliament1

	desc = {
		text = canada.62.d.cons
		trigger = { has_government = social_conservative }
	}
	desc = {
		text = canada.62.d.lib
		trigger = { NOT = { has_government = social_conservative } }
	}

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
	}

	option = {
		name = canada.62.a
		set_country_flag = CAN_fallen_government
		custom_effect_tooltip = LOM_elections_three_months
		add_stability = -0.10
		decrease_ruling_party_popularity_by_10 = yes
		hidden_effect = {
			if = {
				limit = { has_government = market_liberal }
				set_variable = { CAN_conservative_support = 3 }
			}
			if = {
				limit = { has_government = social_conservative }
				set_variable = { CAN_liberal_support = 3 }
			}
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = [RULING_PARTY_TAG]
						last_election = "[CURRENT_DATE]"
						election_frequency = 3
						elections_allowed = yes
					}
				}
				RULING_PARTY_TAG = "[Root.GetRulingIdeologyId]"
				CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
			}
			country_event = { id = canada.63 days = 10 } #Meighen replaces Bennett
			country_event = { id = canada.65 days = 30 random = 240 } #King Promises New Deal
			country_event = { id = canada.66 days = 50 random = 240 } #Meighen Outlines Bill C-8
		}
	}
}

# Manion Replaces Bennett as Conservative Leader
country_event = {
	id = canada.63
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.63" }
	title = canada.63.t
	picture = GFX_report_event_CAN_manion

	desc = {
		text = canada.63.d.fallen
		trigger = {
			has_government = social_conservative
			has_country_flag = CAN_fallen_government
		}
	}
	desc = {
		text = canada.63.d.stepdown
		trigger = {
			has_government = social_conservative
			NOT = { has_country_flag = CAN_fallen_government }
		}
	}
	desc = {
		text = canada.63.d.challenge
		trigger = {
			NOT = { has_government = social_conservative }
			has_country_flag = CAN_fallen_government
		}
	}
	desc = {
		text = canada.63.d
		trigger = {
			NOT = { has_government = social_conservative }
			NOT = { has_country_flag = CAN_fallen_government }
		}
	}

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
	}

	option = {
		name = canada.63.a
		if = {
			limit = { has_government = social_conservative }
			remove_ideas_with_trait = head_of_government
			add_ideas = CAN_Robert_Manion_hog_sco
		}
		if = {
			limit = { has_idea = CAN_Robert_Manion_for_sco }
			remove_ideas = CAN_Robert_Manion_for_sco
			add_ideas = CAN_Sidney_Earle_Smith_for_sco
		}
		set_country_flag = CAN_cons_leader_manion
		add_popularity = { ideology = social_conservative popularity = 0.05 }
		if = {
			limit = { has_country_flag = CAN_is_republic }
			create_country_leader = {
				name = "Robert Manion"
				picture = "Portrait_Canada_Robert_Manion.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
			}
		}
	}
}

# ACW Energizes Conservatives
country_event = {
	id = canada.64
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.64" }
	title = canada.64.t
	desc = canada.64.d
	picture = GFX_ACW_soldiers_running

	fire_only_once = yes

	trigger = {
		tag = CAN
		has_elected_government = yes
		has_country_flag = KR_british_king_base
		has_country_flag = CAN_fallen_government
		has_global_flag = USA_civil_war_begun_flag
		NOT = { has_global_flag = USA_civil_war_over_flag }
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = canada.64.a
		add_to_variable = { CAN_conservative_support = 1 }
		add_war_support = 0.05
		add_popularity = { ideology = social_conservative popularity = 0.05 }
	}
}

# King Promises New Deal
country_event = {
	id = canada.65
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.65" }
	title = canada.65.t
	picture = GFX_report_event_CAN_mackenzie_king

	is_triggered_only = yes

	desc = {
		text = canada.65.d.cons
		trigger = { NOT = { has_government = market_liberal } }
	}
	desc = {
		text = canada.65.d.lib
		trigger = { has_government = market_liberal }
	}

	trigger = {
		has_elected_government = yes
		has_country_flag = CAN_fallen_government
	}

	option = {
		name = canada.65.a
		add_stability = 0.02
		add_popularity = { ideology = market_liberal popularity = 0.05 }
	}
}

# Manion Outlines Bill C-8
country_event = {
	id = canada.66
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.66" }
	title = canada.66.t
	picture = GFX_report_event_CAN_manion

	desc = {
		text = canada.66.d.cons
		trigger = { has_government = social_conservative }
	}
	desc = {
		text = canada.66.d.lib
		trigger = { NOT = { has_government = social_conservative } }
	}

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		has_country_flag = CAN_fallen_government
	}

	option = {
		name = canada.66.a
		add_stability = 0.02
		add_popularity = { ideology = social_conservative popularity = 0.05 }
	}
}

# New Election
country_event = {
	id = canada.67
	title = canada.67.t
	desc = canada.67.d
	picture = GFX_report_event_CAN_election

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		has_country_flag = CAN_had_1936_election
		has_country_flag = CAN_fallen_government
	}

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.67"
		remove_all_ministers = yes
		clr_country_flag = CAN_lib_ccf_coalition
		hidden_effect = {
			remove_ideas_with_trait = leader_of_the_british_exiles
			multiply_variable = { CAN_conservative_support = 20 }
			multiply_variable = { CAN_liberal_support = 20 }
		}
	}

	option = {
		name = canada.67.a #Liberals get majority
		ai_chance = {
			factor = 50
			modifier = {
				add = CAN_liberal_support
			}
			modifier = {
				add = 10
				check_variable = { king_popularity < 3 }
				check_variable = { king_popularity > 1 }
			}
			modifier = {
				add = 20
				check_variable = { king_popularity < 2 }
			}
		}
		clear_variable = CAN_conservative_support
		clear_variable = CAN_liberal_support
		clr_country_flag = CAN_fallen_government
		add_popularity = { ideology = market_liberal popularity = 0.20 }
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		hidden_effect = {
			add_ideas = CAN_William_Lyon_Mackenzie_King_hog_mli
			if = {
				limit = { has_country_flag = KR_british_king_base }
				CAN_add_british_pm_in_exile = yes
			}
			else = {
				add_ideas = CAN_Vincent_Massey_for_mli
			}
			add_ideas = CAN_CD_Howe_eco_mli
			add_ideas = CAN_Ernest_Lapointe_sec_mli
			country_event = { id = canada.68 days = 10 }
		}
	}
	option = {
		name = canada.67.b #Conservatives get majority
		ai_chance = {
			factor = 50
			modifier = {
				add = CAN_conservative_support
			}
			modifier = {
				add = 10
				check_variable = { king_popularity > 3 }
				check_variable = { king_popularity < 5 }
			}
			modifier = {
				add = 20
				check_variable = { king_popularity > 4 }
			}
		}
		clear_variable = CAN_conservative_support
		clear_variable = CAN_liberal_support
		clr_country_flag = CAN_fallen_government
		add_popularity = { ideology = social_conservative popularity = 0.20 }
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 60
			elections_allowed = yes
		}
		hidden_effect = {
			if = {
				limit = { has_country_flag = CAN_cons_leader_manion }
				add_ideas = CAN_Robert_Manion_hog_sco
			}
			else = {
				add_ideas = CAN_RB_Bennett_hog_sco
			}
			if = {
				limit = { has_country_flag = KR_british_king_base }
				CAN_add_british_pm_in_exile = yes
			}
			else = {
				add_ideas = CAN_Sidney_Earle_Smith_for_sco
			}
			add_ideas = CAN_Stephen_Leacock_eco_sco
			add_ideas = CAN_John_Diefenbaker_sec_sco
			country_event = { id = canada.69 days = 10 }
		}
	}
}

# Liberals Pass 'New Deal' Bill C-7
country_event = {
	id = canada.68
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.68" }
	title = canada.68.t
	desc = canada.68.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		name = canada.68.a
		add_political_power = 100
		if = {
			limit = { has_idea = CAN_divided_nation }
			remove_ideas = CAN_divided_nation
		}
		# add conscription changes
		add_ideas = CAN_professional_army
		# add industry changes
		add_ideas = CAN_billc7_liberal
		276 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		832 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		473 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		466 = {
			add_extra_state_shared_building_slots = 1
		}
		739 = {
			add_extra_state_shared_building_slots = 1
		}

		set_country_flag = CAN_C7_passed
		clear_variable = chance_pass
		clear_variable = vote
		clr_country_flag = CAN_C7_full_cons
		clr_country_flag = CAN_C7_limited_cons
		clr_country_flag = CAN_C7_no_cons
		clr_country_flag = CAN_C7_econ_lib
		clr_country_flag = CAN_C7_econ_conserv
		clr_country_flag = CAN_C7_econ_comp
		clr_country_flag = CAN_C7_sec_winter
		clr_country_flag = CAN_C7_sec_lapointe
	}
}

# Conservatives Pass Bill C-8
country_event = {
	id = canada.69
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.69" }
	title = canada.69.t
	desc = canada.69.d
	picture = GFX_report_event_generic_diplomacy3

	is_triggered_only = yes

	option = {
		name = canada.59.a
		add_political_power = 100
		if = {
			limit = { has_idea = CAN_divided_nation }
			remove_ideas = CAN_divided_nation
		}
		# add conscription changes
		clr_country_flag = cannot_have_conscription
		add_ideas = extensive_conscription
		# add industry changes
		add_ideas = CAN_billc7_tory
		276 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		832 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		464 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		473 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		# add security changes
		add_ideas = CAN_mounties_1
		hidden_effect = { remove_ideas_with_trait = security_minister }
		add_ideas = CAN_Maxwell_Knight_sec_pau

		set_country_flag = CAN_C7_passed
		clear_variable = chance_pass
		clear_variable = vote
		clr_country_flag = CAN_C7_full_cons
		clr_country_flag = CAN_C7_limited_cons
		clr_country_flag = CAN_C7_no_cons
		clr_country_flag = CAN_C7_econ_lib
		clr_country_flag = CAN_C7_econ_conserv
		clr_country_flag = CAN_C7_econ_comp
		clr_country_flag = CAN_C7_sec_winter
		clr_country_flag = CAN_C7_sec_lapointe

		hidden_effect = {
			country_event = { id = canada.100 days = 3 }
		}
	}
}

# Mackenzie King Retires
country_event = {
	id = canada.70
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.70" }
	title = canada.70.t
	desc = canada.70.d
	picture = GFX_report_event_CAN_mackenzie_king

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = CAN_lib_leader_stlaurent }
	}

	option = {
		name = canada.70.a
		set_country_flag = CAN_lib_leader_stlaurent
		if = {
			limit = { has_idea = CAN_William_Lyon_Mackenzie_King_hog_mli }
			remove_ideas = CAN_William_Lyon_Mackenzie_King_hog_mli
			add_ideas = CAN_Louis_St_Laurent_hog_sli
		}
		if = {
			limit = { has_idea = CAN_Louis_St_Laurent_for_sli }
			remove_ideas = CAN_Louis_St_Laurent_for_sli
			add_ideas = CAN_Mitchell_Hepburn_for_sli
		}
		if = {
			limit = { has_country_flag = CAN_is_republic }
			create_country_leader = {
				name = "Louis St. Laurent"
				picture = "Portrait_Canada_Louis_St_Laurent.tga"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
			}
			create_country_leader = {
				name = "Charles Gavan Power"
				picture = "Portrait_Canada_Charles_Gavan_Power.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
			}
		}
	}
}

# R.B. Bennett Retires
country_event = {
	id = canada.71
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.71" }
	title = canada.71.t
	desc = canada.71.d
	picture = GFX_report_event_CAN_bennett

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = CAN_cons_leader_manion }
	}

	option = {
		name = canada.71.a
		set_country_flag = CAN_cons_leader_manion
		if = {
			limit = { has_idea = CAN_RB_Bennett_hog_sco }
			remove_ideas = CAN_RB_Bennett_hog_sco
			add_ideas = CAN_Robert_Manion_hog_sco
		}
		if = {
			limit = { has_idea = CAN_Robert_Manion_for_sco }
			remove_ideas = CAN_Robert_Manion_for_sco
			add_ideas = CAN_Sidney_Earle_Smith_for_sco
		}
		if = {
			limit = { has_country_flag = CAN_is_republic }
			create_country_leader = {
				name = "Robert Manion"
				picture = "Portrait_Canada_Robert_Manion.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
			}
		}
	}
}

# J.S. Woodsworth loses CCF leadership to Coldwell
country_event = {
	id = canada.72
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.72" }
	title = canada.72.t
	desc = canada.72.d
	picture = GFX_report_event_CAN_coldwell

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		NOT = { has_country_flag = CAN_ccf_leader_coldwell }
	}

	option = {
		name = canada.71.a
		set_country_flag = CAN_ccf_leader_coldwell
		add_popularity = { ideology = social_democrat popularity = 0.05 }
		if = {
			limit = { has_idea = CAN_JS_Woodsworth_hog_sde }
			remove_ideas = CAN_JS_Woodsworth_hog_sde
			add_ideas = CAN_Major_James_Coldwell_hog_sde
		}
		if = {
			limit = { has_country_flag = CAN_is_republic }
			create_country_leader = {
				name = "Major James Coldwell"
				picture = "Portrait_Canada_Major_James_Coldwell.tga"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
			}
		}
	}
}

# The Death of Billy Bishop
country_event = {
	id = canada.73
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.73" }
	title = canada.73.t
	desc = canada.73.d
	picture = GFX_report_event_europe_funeral

	is_triggered_only = yes

	trigger = {
		has_idea = CAN_William_Avery_Bishop_cair_ade
	}

	option = {
		name = canada.73.a
		remove_ideas = CAN_William_Avery_Bishop_cair_ade
		set_country_flag = William_Avery_Bishop_dead
	}
}

# Elections after 1936
country_event = {
	id = canada.75
	title = canada.75.t
	desc = canada.75.d
	picture = GFX_report_event_CAN_election

	is_triggered_only = yes

	trigger = {
		has_elected_government = yes
		has_country_flag = CAN_had_1936_election
		NOT = { has_country_flag = CAN_fallen_government }
	}

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.75"
		remove_all_ministers = yes
		clr_country_flag = CAN_lib_ccf_coalition
	}

	option = {
		name = canada.75.a #Liberals get majority
		trigger = {
			NOT = { has_country_flag = CAN_lib_leader_stlaurent }
		}
		ai_chance = {
			factor = 60
		}
		if = {
			limit = { market_liberal < 0.40 }
			add_popularity = { ideology = market_liberal popularity = 0.20 }
		}
		else_if = {
			limit = { market_liberal < 0.60 }
			add_popularity = { ideology = market_liberal popularity = 0.10 }
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		hidden_effect = {
			add_ideas = CAN_William_Lyon_Mackenzie_King_hog_mli
			if = {
				limit = { has_country_flag = KR_british_king_base }
				CAN_add_british_pm_in_exile = yes
			}
			else = {
				add_ideas = CAN_Louis_St_Laurent_for_sli
			}
			add_ideas = CAN_CD_Howe_eco_mli
			add_ideas = CAN_James_Garfield_Gardiner_sec_mli
			if = {
				limit = {
					date > 1941.1.1
					NOT = { has_country_flag = CAN_cons_leader_bracken }
				}
				country_event = { id = canada.76 days = 60 }
			}
		}
	}
	option = {
		name = canada.75.a #Liberals get majority
		trigger = {
			has_country_flag = CAN_lib_leader_stlaurent
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.8
				has_country_flag = CAN_is_republic
			}
		}
		if = {
			limit = { social_liberal < 0.40 }
			add_popularity = { ideology = social_liberal popularity = 0.20 }
		}
		else_if = {
			limit = { social_liberal < 0.60 }
			add_popularity = { ideology = social_liberal popularity = 0.10 }
		}
		set_politics = {
			ruling_party = social_liberal
			election_frequency = 60
			elections_allowed = yes
		}
		hidden_effect = {
			add_ideas = CAN_Louis_St_Laurent_hog_sli
			if = {
				limit = { has_country_flag = KR_british_king_base }
				CAN_add_british_pm_in_exile = yes
			}
			else = {
				add_ideas = CAN_Mitchell_Hepburn_for_sli
			}
			add_ideas = CAN_Alphonse_Fournier_eco_sli
			add_ideas = CAN_Stuart_Garson_sec_sli
			if = {
				limit = {
					date > 1941.1.1
					NOT = { has_country_flag = CAN_cons_leader_bracken }
				}
				country_event = { id = canada.76 days = 60 }
			}
		}
	}
	option = {
		name = canada.75.b #Conservatives get majority
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0.75
				has_country_flag = CAN_lib_leader_stlaurent
			}
			modifier = {
				factor = 0.5
				has_country_flag = CAN_is_republic
			}
		}
		if = {
			limit = { social_conservative < 0.40 }
			add_popularity = { ideology = social_conservative popularity = 0.20 }
		}
		else_if = {
			limit = { social_conservative < 0.60 }
			add_popularity = { ideology = social_conservative popularity = 0.10 }
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 60
			elections_allowed = yes
		}
		hidden_effect = {
			if = {
				limit = { has_country_flag = CAN_cons_leader_manion }
				add_ideas = CAN_Robert_Manion_hog_sco
			}
			else_if = {
				limit = { has_country_flag = CAN_cons_leader_bracken }
				add_ideas = CAN_John_Bracken_hog_sco
			}
			else = {
				add_ideas = CAN_RB_Bennett_hog_sco
			}
			if = {
				limit = { has_country_flag = KR_british_king_base }
				CAN_add_british_pm_in_exile = yes
			}
			else = {
				add_ideas = CAN_Sidney_Earle_Smith_for_sco
			}
			if = {
				limit = { has_country_flag = CAN_cons_leader_bracken }
				add_ideas = CAN_Stephen_Leacock_eco_sco
			}
			else = {
				add_ideas = CAN_John_Bracken_eco_sco
			}
			if = {
				limit = { has_country_flag = CAN_nat_leader_diefenbaker }
				add_ideas = CAN_Gordon_Graydon_sec_sco
			}
			else = {
				add_ideas = CAN_John_Diefenbaker_sec_sco
			}
		}
	}
	option = {
		name = canada.75.b #Nationalists win minority with Conservative support
		trigger = {
			has_country_flag = CAN_is_republic
			has_country_flag = CAN_nat_leader_diefenbaker
		}
		ai_chance = {
			factor = 10
			modifier = {
				add = 10
				date > 1945.1.1
			}
		}
		if = {
			limit = { national_populist < 0.40 }
			add_popularity = { ideology = national_populist popularity = 0.20 }
		}
		else_if = {
			limit = { national_populist < 0.60 }
			add_popularity = { ideology = national_populist popularity = 0.10 }
		}
		set_politics = {
			ruling_party = national_populist
			election_frequency = 60
			elections_allowed = yes
		}
		hidden_effect = {
			add_ideas = {
				CAN_John_Diefenbaker_hog_npo
				CAN_George_A_Drew_for_npo
				CAN_Murdoch_Alexander_MacPherson_eco_npo
				CAN_Andrew_McNaughton_sec_npo
			}
			if = {
				limit = {
					date > 1941.1.1
					NOT = { has_country_flag = CAN_cons_leader_bracken }
				}
				country_event = { id = canada.76 days = 60 }
			}
		}
	}
	option = {
		name = canada.75.c #CCF wins minority with Liberal support
		trigger = {
			has_country_flag = CAN_lib_leader_stlaurent
			has_country_flag = CAN_ccf_leader_coldwell
		}
		ai_chance = {
			factor = 5
			modifier = {
				add = 5
				has_country_flag = CAN_is_republic
			}
			modifier = {
				factor = 2
				date > 1945.1.1
			}
		}
		set_country_flag = CAN_lib_ccf_coalition
		if = {
			limit = { social_liberal < 0.40 }
			add_popularity = { ideology = social_liberal popularity = 0.10 }
		}
		else_if = {
			limit = { social_liberal < 0.60 }
			add_popularity = { ideology = social_liberal popularity = 0.05 }
		}
		if = {
			limit = { social_democrat < 0.40 }
			add_popularity = { ideology = social_democrat popularity = 0.10 }
		}
		else_if = {
			limit = { social_democrat < 0.60 }
			add_popularity = { ideology = social_democrat popularity = 0.05 }
		}
		set_politics = {
			ruling_party = social_democrat
			election_frequency = 60
			elections_allowed = yes
		}
		hidden_effect = {
			add_ideas = CAN_Major_James_Coldwell_hog_sde
			if = {
				limit = { has_country_flag = KR_british_king_base }
				CAN_add_british_pm_in_exile = yes
			}
			else = {
				add_ideas = CAN_Louis_St_Laurent_for_sli
			}
			add_ideas = CAN_Hazen_Argue_eco_sde
			add_ideas = CAN_Stuart_Garson_sec_sli
			if = {
				limit = {
					date > 1941.1.1
					NOT = { has_country_flag = CAN_cons_leader_bracken }
				}
				country_event = { id = canada.76 days = 60 }
			}
		}
	}
}

# Conservative party rebranded under Bracken
country_event = {
	id = canada.76
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.76" }
	title = canada.76.t
	desc = canada.76.d
	picture = GFX_report_event_CAN_cabinet

	is_triggered_only = yes

	option = {
		name = canada.76.a
		add_popularity = { ideology = social_conservative popularity = 0.05 }
		set_party_name = {
			ideology = social_conservative
			long_name = CAN_prog_conservative_party_long
			name = CAN_prog_conservative_party
		}
		set_country_flag = CAN_cons_leader_bracken
		if = {
			limit = { has_government = social_conservative }
			remove_ideas_with_trait = head_of_government
			add_ideas = CAN_John_Bracken_hog_sco
		}
		if = {
			limit = { has_idea = CAN_John_Bracken_eco_sco }
			remove_ideas = CAN_John_Bracken_eco_sco
			add_ideas = CAN_Stephen_Leacock_eco_sco
		}
		if = {
			limit = { has_country_flag = CAN_is_republic }
			create_country_leader = {
				name = "John Bracken"
				picture = "Portrait_Canada_John_Bracken.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
			}
		}
	}
}

# King replaces British PM
country_event = {
	id = canada.77
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.77" }
	title = canada.77.t
	desc = canada.77.d
	picture = GFX_report_event_CAN_rideau

	fire_only_once = yes

	trigger = {
		tag = CAN
		OR = {
			has_idea = CAN_Henry_Page_Croft_lobe_pau
			has_idea = CAN_Robert_Cecil_lobe_ade
			has_idea = CAN_Anthony_Eden_lobe_ade
		}
		NOT = { has_idea = CAN_rally_the_country }
		has_country_flag = KR_british_king_base
		has_country_flag = CAN_king_replaces_pm
	}

	mean_time_to_happen = {
		months = 3
	}

	option = {
		name = canada.77.a
		clr_country_flag = CAN_king_replaces_pm
		if = {
			limit = { has_idea = CAN_Henry_Page_Croft_lobe_pau }
			remove_ideas = CAN_Henry_Page_Croft_lobe_pau
			GBR = { clr_country_flag = GBR_Croft_PM }
		}
		if = {
			limit = { has_idea = CAN_Robert_Cecil_lobe_ade }
			remove_ideas = CAN_Robert_Cecil_lobe_ade
			GBR = { clr_country_flag = GBR_Cecil_PM }
		}
		if = {
			limit = { has_idea = CAN_Anthony_Eden_lobe_ade }
			remove_ideas = CAN_Anthony_Eden_lobe_ade
			GBR = { clr_country_flag = GBR_Eden_PM }
		}
		add_ideas = CAN_Robert_Vansittart_lobe_ade
		GBR = { set_country_flag = GBR_Vansittart_PM }
		custom_effect_tooltip = CAN_exile_influence_decrease
		if = {
			limit = { check_variable = { king_influence > 0 } }
			subtract_from_variable = { king_influence = 1 }
		}
		else = {
			set_variable = { king_influence = 0 }
		}
	}
}


### QUEBEC EVENTS

# Riots Across Quebec (response to full conscription)
country_event = {
	id = canada.100
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.100" }
	title = canada.100.t
	desc = canada.100.d
	picture = GFX_report_event_CAN_quebec1

	fire_only_once = yes

	trigger = {
		tag = CAN
		is_subject = no
		OR = {
			466 = { is_owned_and_controlled_by = CAN } #Quebec
			468 = { is_owned_and_controlled_by = CAN } #Saint Lawrence
			832 = { is_owned_and_controlled_by = CAN } #Montreal
		}
		OR = {
			has_idea = extensive_conscription
			has_idea = service_by_requirement
			has_idea = all_adults_serve
			has_idea = scraping_the_barrel
		}
		NOT = {
			surrender_progress > 0
			has_war_with = USA
			has_war_with = CSA
			has_war_with = CAL
			has_war_with = TEX
			has_war_with = NEE
			has_country_flag = CAN_quebec_was_in_flames
		}
	}

	mean_time_to_happen = {
		days = 5
	}

	option = {
		name = canada.100.a
		set_country_flag = CAN_quebec_was_in_flames
		add_stability = -0.10
		if = {
			limit = { has_idea = CAN_anglo_french_tensions_2 }
			swap_ideas = {
				remove_idea = CAN_anglo_french_tensions_2
				add_idea = CAN_anglo_french_tensions_1
			}
		}
		else_if = {
			limit = { has_idea = CAN_anglo_french_tensions_3 }
			swap_ideas = {
				remove_idea = CAN_anglo_french_tensions_3
				add_idea = CAN_anglo_french_tensions_1
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_idea = CAN_anglo_french_tensions_1
					has_idea = CAN_anglo_french_tensions_2
					has_idea = CAN_anglo_french_tensions_3
				}
			}
			add_ideas = CAN_anglo_french_tensions_1
		}
		every_owned_state = {
			limit = {
				is_controlled_by = CAN
				OR = {
					state = 466 #Quebec
					state = 468 #Saint Lawrence
					state = 832 #Montreal
				}
			}
			add_dynamic_modifier = { modifier = CAN_french_resistance_3 }
		}
		hidden_effect = {
			country_event = { id = canada.101 days = 15 random = 720 } #Bounce event
			random_other_country = {
				limit = { is_ai = no }
				news_event = { id = canada.112 days = 1 }
			}
		}
		add_ideas = CAN_quebec_in_flames_idea
	}
}

# Hidden bounce event for resistance events
country_event = {
	id = canada.101
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.101" }

	hidden = yes
	is_triggered_only = yes

	trigger = {
		has_idea = CAN_quebec_in_flames_idea
	}

	option = {
		name = AI_OPTION #Industrial Sabotage
		trigger = {
			any_owned_state = {
				OR = {
					has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
					has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
					has_dynamic_modifier = { modifier = CAN_french_resistance_1 }
				}
				industrial_complex > 0
			}
		}
		ai_chance = {
			factor = 20
		}
		set_country_flag = CAN_quebec_civ
		country_event = canada.102
	}
	option = {
		name = AI_OPTION #Arms Sabotage
		trigger = {
			any_owned_state = {
				OR = {
					has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
					has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
					has_dynamic_modifier = { modifier = CAN_french_resistance_1 }
				}
				arms_factory > 0
			}
		}
		ai_chance = {
			factor = 20
		}
		set_country_flag = CAN_quebec_arms
		country_event = canada.102
	}
	option = {
		name = AI_OPTION #Riots
		trigger = {
			any_owned_state = {
				OR = {
					has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
					has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
					has_dynamic_modifier = { modifier = CAN_french_resistance_1 }
				}
				infrastructure > 2
			}
		}
		ai_chance = {
			factor = 20
		}
		set_country_flag = CAN_quebec_riots
		country_event = canada.102
	}
	option = {
		name = AI_OPTION #Ringleaders Arrested
		trigger = {
			any_owned_state = {
				OR = {
					has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
					has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
				}
			}
		}
		ai_chance = {
			factor = 10
		}
		set_country_flag = CAN_quebec_ringleader
		country_event = canada.102
	}
	option = {
		name = AI_OPTION #Nothing
		ai_chance = {
			factor = 40
			modifier = {
				add = 20
				NOT = {
					any_owned_state = {
						has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
					}
				}
			}
			modifier = {
				add = 20
				NOT = {
					any_owned_state = {
						OR = {
							has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
							has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
						}
					}
				}
			}
		}
		country_event = { id = canada.101 days = 90 random = 1080 } #Bounce event
	}
}

# Resistance event
country_event = {
	id = canada.102
	picture = GFX_report_event_IRE_bombing

	title = {
		text = canada.102.t.civ
		trigger = { has_country_flag = CAN_quebec_civ }
	}
	title = {
		text = canada.102.t.arms
		trigger = { has_country_flag = CAN_quebec_arms }
	}
	title = {
		text = canada.102.t.riots
		trigger = { has_country_flag = CAN_quebec_riots }
	}
	title = {
		text = canada.102.t.ringleader
		trigger = { has_country_flag = CAN_quebec_ringleader }
	}

	desc = {
		text = canada.102.d.civ
		trigger = { has_country_flag = CAN_quebec_civ }
	}
	desc = {
		text = canada.102.d.arms
		trigger = { has_country_flag = CAN_quebec_arms }
	}
	desc = {
		text = canada.102.d.riots
		trigger = { has_country_flag = CAN_quebec_riots }
	}
	desc = {
		text = canada.102.d.ringleader
		trigger = { has_country_flag = CAN_quebec_ringleader }
	}

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.102"
		hidden_effect = {
			if = {
				limit = { has_country_flag = CAN_quebec_civ }
				random_owned_state = {
					limit = {
						OR = {
							has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
							has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
							has_dynamic_modifier = { modifier = CAN_french_resistance_1 }
						}
						industrial_complex > 0
					}
					save_event_target_as = french_state
				}
			}
			if = {
				limit = { has_country_flag = CAN_quebec_arms }
				random_owned_state = {
					limit = {
						OR = {
							has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
							has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
							has_dynamic_modifier = { modifier = CAN_french_resistance_1 }
						}
						arms_factory > 0
					}
					save_event_target_as = french_state
				}
			}
			if = {
				limit = { has_country_flag = CAN_quebec_riots }
				random_owned_state = {
					limit = {
						OR = {
							has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
							has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
							has_dynamic_modifier = { modifier = CAN_french_resistance_1 }
						}
						infrastructure > 2
					}
					save_event_target_as = french_state
				}
			}
			if = {
				limit = { has_country_flag = CAN_quebec_ringleader }
				random_owned_state = {
					limit = {
						OR = {
							has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
							has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
						}
					}
					save_event_target_as = french_state
				}
			}
		}
	}

	option = {
		name = canada.102.a
		trigger = { NOT = { has_country_flag = CAN_quebec_ringleader } }
		event_target:french_state = {
			if = {
				limit = { ROOT = { has_country_flag = CAN_quebec_civ } }
				damage_building = {
					type = industrial_complex
					damage = 0.5
				}
			}
			if = {
				limit = { ROOT = { has_country_flag = CAN_quebec_arms } }
				damage_building = {
					type = arms_factory
					damage = 0.5
				}
			}
			if = {
				limit = { ROOT = { has_country_flag = CAN_quebec_riots } }
				damage_building = {
					type = arms_factory
					damage = 0.5
				}
			}
		}
		clr_country_flag = CAN_quebec_civ
		clr_country_flag = CAN_quebec_arms
		clr_country_flag = CAN_quebec_riots
		hidden_effect = {
			country_event = { id = canada.101 days = 90 random = 1080 } #Bounce event
		}
	}
	option = {
		name = canada.102.b
		trigger = { has_country_flag = CAN_quebec_ringleader }
		event_target:french_state = {
			custom_effect_tooltip = CAN_resistance_effects_reduced
			CAN_reduce_french_resistance = yes
		}
		clr_country_flag = CAN_quebec_ringleader
		hidden_effect = {
			country_event = { id = canada.101 days = 90 random = 1080 } #Bounce event
		}
	}
}

# The Montreal Conference (fired by focus)
country_event = {
	id = canada.104
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.104" }
	title = canada.104.t
	desc = canada.104.d
	picture = GFX_report_event_CAN_montreal

	is_triggered_only = yes

	option = {
		name = canada.104.a
		CAN_improve_french_tensions_idea = yes
		every_owned_state = {
			limit = {
				OR = {
					has_dynamic_modifier = { modifier = CAN_french_resistance_3 }
					has_dynamic_modifier = { modifier = CAN_french_resistance_2 }
					has_dynamic_modifier = { modifier = CAN_french_resistance_1 }
				}
			}
			custom_effect_tooltip = CAN_resistance_effects_reduced
			CAN_reduce_french_resistance = yes
		}
	}
}

# Quebec's New Status (fired by focus)
country_event = {
	id = canada.105
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.105" }
	title = canada.105.t
	desc = canada.105.d
	picture = GFX_report_event_CAN_quebec2

	is_triggered_only = yes

	option = {
		name = canada.105.a
		add_political_power = 100
		add_ideas = CAN_anglo_french_friendship
	}
}

# Quebecois Suppression Begins (fired by focus)
country_event = {
	id = canada.106
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.106" }
	title = canada.106.t
	desc = canada.106.d
	picture = GFX_report_event_CAN_army3

	is_triggered_only = yes

	option = {
		name = canada.106.a
		unlock_decision_tooltip = CAN_suppress_quebec
		unlock_decision_tooltip = CAN_suppress_stlawrence
		unlock_decision_tooltip = CAN_suppress_montreal
		decrease_ruling_party_popularity_by_10 = yes
		CAN_improve_french_tensions_idea = yes
	}
}

# Quebec Premier Replaced (fired by focus)
country_event = {
	id = canada.107
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.107" }
	title = canada.107.t
	desc = canada.107.d
	picture = GFX_report_event_CAN_quebec2

	is_triggered_only = yes

	option = {
		name = canada.107.a
		decrease_ruling_party_popularity_by_5 = yes
		add_political_power = 50
		CAN_improve_french_tensions_idea = yes
	}
}

# The War Measures Act (fired by focus)
country_event = {
	id = canada.108
	title = canada.108.t
	picture = GFX_report_event_CAN_wmact

	desc = {
		text = canada.108.d.war
		trigger = {
			has_war = yes
			any_enemy_country = { is_actual_major = yes }
		}
	}
	desc = {
		text = canada.108.d.nowar
		trigger = {
			OR = {
				has_war = no
				NOT = { any_enemy_country = { is_actual_major = yes } }
			}
		}
	}

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.108"
		remove_all_ministers = yes
	}

	option = {
		name = canada.108.a
		set_country_flag = CAN_warmeasact_invoked
		add_political_power = 100
		add_war_support = -0.10
		unlock_decision_tooltip = CAN_suppress_quebec
		unlock_decision_tooltip = CAN_suppress_stlawrence
		unlock_decision_tooltip = CAN_suppress_montreal
		unlock_decision_tooltip = CAN_emergency_draft
		if = {
			limit = {
				OR = {
					has_idea = extensive_conscription
					has_idea = service_by_requirement
					has_idea = all_adults_serve
					has_idea = scraping_the_barrel
				}
			}
			unlock_decision_tooltip = CAN_expand_conscription_policies
		}
		unlock_decision_tooltip = CAN_expand_secret_police
		if = {
			limit = { check_variable = { king_influence < 5 } }
			custom_effect_tooltip = CAN_exile_influence_increase
			add_to_variable = { king_influence = 1 }
			CAN_calc_exile_influence_effects = yes
		}
		if = {
			limit = { check_variable = { king_popularity > 0 } }
			custom_effect_tooltip = CAN_king_popularity_decrease
			subtract_from_variable = { king_popularity = 1 }
			CAN_calc_royal_visit_effects = yes
		}
		hidden_effect = {
			add_ideas = {
				CAN_Arthur_Meighen_hog_ade
				CAN_Andrew_Carnell_eco_ade
				CAN_WAC_Bennett_sec_ade
			}
			random_other_country = {
				limit = { is_ai = no }
				news_event = { id = canada.113 days = 1 }
			}
		}
	}
}

# Demonstrations Across Canada (fired by focus)
country_event = {
	id = canada.110
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.110" }
	title = canada.110.t
	desc = canada.110.d
	picture = GFX_report_event_CAN_protest

	is_triggered_only = yes

	trigger = {
		has_government = authoritarian_democrat
	}

	option = {
		name = canada.110.a
		add_stability = -0.10
		if = {
			limit = { check_variable = { king_popularity > 0 } }
			custom_effect_tooltip = CAN_king_popularity_decrease
			subtract_from_variable = { king_popularity = 1 }
			CAN_calc_royal_visit_effects = yes
		}
	}
}

# Parliament Suspended (fired by focus)
country_event = {
	id = canada.111
	title = canada.111.t
	desc = canada.111.d
	picture = GFX_report_event_CAN_parliament1

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.111"
		remove_all_ministers = yes
	}

	option = {
		name = canada.111.a
		custom_effect_tooltip = CAN_king_popularity_decrease
		set_variable = { king_popularity = 1 }
		CAN_calc_royal_visit_effects = yes
		add_stability = -0.10
		add_political_power = 200
		add_popularity = { ideology = authoritarian_democrat popularity = -0.20 }
		add_popularity = { ideology = paternal_autocrat popularity = 0.20 }
		unlock_decision_tooltip = CAN_consolidate_power
		unlock_decision_tooltip = CAN_expand_labour_camps
		unlock_decision_tooltip = CAN_increase_factory_prod
		unlock_decision_tooltip = CAN_fund_the_military
		hidden_effect = {
			if = {
				limit = { has_global_flag = CAN_king_edward_VIII }
				add_ideas = CAN_King_Edward_VIII_hog_pau
			}
			if = {
				limit = { has_global_flag = CAN_king_albert_I }
				add_ideas = CAN_King_Albert_I_hog_pau
			}
			if = {
				limit = { has_global_flag = CAN_king_henry_IX }
				add_ideas = CAN_King_Henry_IX_hog_pau
			}
			if = {
				limit = { has_global_flag = CAN_king_george_VI }
				add_ideas = CAN_King_George_VI_hog_pau
			}
			add_ideas = {
				CAN_Lord_Mountbatten_eco_pau
				CAN_Maxwell_Knight_sec_pau
			}
			random_other_country = {
				limit = { is_ai = no }
				news_event = { id = canada.114 days = 1 }
			}
		}
	}
}

# News: Conscription Crisis in Quebec
news_event = {
	id = canada.112
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.112" }
	title = canada.112.t
	desc = canada.112.d
	picture = GFX_news_event_CAN_conscription

	is_triggered_only = yes
	major = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		NOT = { tag = CAN }
		OR = {
			regional_north_america_news = yes
			regional_europe_news = yes
			is_in_faction_with = CAN
		}
	}

	option = {
		name = canada.112.a
		trigger = {
			is_in_faction_with = CAN
		}
	}
	option = {
		name = canada.112.b
		trigger = {
			NOT = {
				is_in_faction_with = CAN
			}
		}
	}
}

# News: Canada invokes War Measures Act
news_event = {
	id = canada.113
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.113" }
	title = canada.113.t
	desc = canada.113.d
	picture = GFX_news_event_CAN_parliament2

	is_triggered_only = yes
	major = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		NOT = { tag = CAN }
		OR = {
			regional_north_america_news = yes
			regional_europe_news = yes
			is_in_faction_with = CAN
		}
	}

	option = {
		name = canada.113.a
		trigger = {
			is_in_faction_with = CAN
		}
	}
	option = {
		name = canada.113.b
		trigger = {
			NOT = {
				is_in_faction_with = CAN
			}
		}
	}
}

# News: Parliament Suspended
news_event = {
	id = canada.114
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.114" }
	title = canada.114.t
	desc = canada.114.d
	picture = GFX_news_event_CAN_parliament

	is_triggered_only = yes
	major = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		NOT = { tag = CAN }
		OR = {
			regional_north_america_news = yes
			regional_europe_news = yes
			is_in_faction_with = CAN
		}
	}

	option = {
		name = canada.114.a
		trigger = {
			is_in_faction_with = CAN
		}
	}
	option = {
		name = canada.114.b
		trigger = {
			NOT = {
				is_in_faction_with = CAN
			}
		}
	}
}

# French tensions lessen
country_event = {
	id = canada.115
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.115" }
	title = canada.115.t
	desc = canada.115.d
	picture = GFX_report_event_CAN_montreal

	trigger = {
		tag = CAN
		OR = {
			has_idea = CAN_anglo_french_tensions_1
			has_idea = CAN_anglo_french_tensions_2
			has_idea = CAN_anglo_french_tensions_3
		}
		OR = {
			has_idea = volunteer_only
			has_idea = limited_conscription
		}
		has_country_flag = CAN_C7_passed
		has_elected_government = yes
	}

	mean_time_to_happen = {
		months = 3
		modifier = {
			factor = 0.5
			has_war = no
		}
		modifier = {
			factor = 2
			has_idea = limited_conscription
		}
		modifier = {
			factor = 2
			has_idea = CAN_anglo_french_tensions_2
		}
		modifier = {
			factor = 3
			has_idea = CAN_anglo_french_tensions_3
		}
	}

	option = {
		name = canada.115.a
		if = {
			limit = { has_idea = CAN_anglo_french_tensions_1 }
			swap_ideas = {
				remove_idea = CAN_anglo_french_tensions_1
				add_idea = CAN_anglo_french_tensions_2
			}
		}
		else_if = {
			limit = { has_idea = CAN_anglo_french_tensions_2 }
			swap_ideas = {
				remove_idea = CAN_anglo_french_tensions_2
				add_idea = CAN_anglo_french_tensions_3
			}
		}
		else = {
			remove_ideas = CAN_anglo_french_tensions_3
		}
	}
}

# the King thinks it's time to attack
country_event = {
	id = canada.174
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.174" }
	title = canada.174.t
	desc = canada.174.d
	picture = GFX_report_event_CAN_army2

	fire_only_once = yes

	trigger = {
		tag = CAN
		has_country_flag = KR_british_king_base
		can_declare_war_on = ENG
		date > 1939.1.1
		OR = {
			ENG = { has_war_with = GER }
			AND = {
				has_tech = transport_n
				has_completed_focus = CAN_project_plough
				has_completed_focus = CAN_economic_recovery
				has_completed_focus = CAN_deal_with_admiralty
				has_completed_focus = CAN_new_munitions_plants
			}
			AND = {
				has_authoritarian_government = yes
				has_completed_focus = CAN_project_plough
				has_completed_focus = CAN_economic_recovery
				has_completed_focus = CAN_deal_with_admiralty
			}
		}
		controls_all_owned_states = yes
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = canada.174.a #Perhaps he's right...
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				not_has_authoritarian_government = yes
				NOT = {
					AND = {
						has_tech = transport_n
						has_completed_focus = CAN_contact_loyalists
						has_completed_focus = CAN_economic_recovery
						has_completed_focus = CAN_deal_with_admiralty
						has_completed_focus = CAN_new_munitions_plants
					}
				}
			}
			modifier = {
				factor = 0
				not_has_authoritarian_government = yes
				has_war = yes
			}
		}
		add_war_support = 0.05
		declare_war_on = {
			target = ENG
			type = annex_everything
		}
	}
	option = {
		name = canada.174.b #We will attack when we're ready, no sooner
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_authoritarian_government = yes
			}
		}
		add_war_support = -0.05
	}
}

# Contacting the British Loyalists (fired by decision)
country_event = {
	id = canada.175
	title = canada.175.t
	picture = GFX_report_event_CAN_army2

	desc = {
		text = canada.175.d.scotland
		trigger = {
			ENG = {
				NOT = {
					any_owned_state = {
						OR = {
							region = 1
							region = 2
						}
						is_core_of = ENG
						is_controlled_by = CAN
					}
				}
				any_owned_state = {
					region = 3
					is_core_of = ENG
					NOT = { state = 938 } #Northern Isles
					is_controlled_by = CAN
				}
			}
		}
	}
	desc = {
		text = canada.175.d.england
		trigger = {
			ENG = {
				any_owned_state = {
					OR = {
						region = 1
						region = 2
					}
					is_core_of = ENG
					is_controlled_by = CAN
				}
			}
		}
	}

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.175"
		hidden_effect = {
			ENG = {
				random_owned_state = {
					limit = {
						OR = {
							region = 1
							region = 2
							region = 3
						}
						is_core_of = ENG
						NOT = { state = 938 } #Northern Isles
						is_controlled_by = CAN
					}
					save_event_target_as = invasion_state
				}
			}
		}
	}

	option = {
		name = canada.175.a
		set_country_flag = CAN_has_british_loyalists
		if = {
			limit = {
				ENG = {
					NOT = {
						any_owned_state = {
							OR = {
								region = 1
								region = 2
							}
							is_core_of = ENG
							is_controlled_by = CAN
						}
					}
					any_owned_state = {
						region = 3
						is_core_of = ENG
						NOT = { state = 938 } #Northern Isles
						is_controlled_by = CAN
					}
				}
			}
			custom_effect_tooltip = CAN_loyalists_spawn_sct
			hidden_effect = { load_oob = "CAN_loyalist_sct" }
		}
		else = {
			custom_effect_tooltip = CAN_loyalists_spawn_eng
			hidden_effect = { load_oob = "CAN_loyalist_eng" }
		}
		event_target:invasion_state = {
			create_unit = {
				division = "name = \"6th Loyalist Volunteers\" division_template = \"Loyalist Rebels\"  start_experience_factor = 0.1"
				owner = ROOT
			}
			create_unit = {
				division = "name = \"3rd Loyalist Elite Division\" division_template = \"Loyalist Mountaineers\"  start_experience_factor = 0.0"
				owner = ROOT
			}
		}
		hidden_effect = {
			ENG = { country_event = canada.176 }
		}
	}
}

# Informing ENG of uprising
country_event = {
	id = canada.176
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.176" }
	title = canada.176.t
	desc = canada.176.d
	picture = GFX_report_event_CAN_army2

	is_triggered_only = yes

	option = {
		name = canada.176.a
		add_manpower = -60000
		add_stability = -0.10
		add_timed_idea = {
			idea = CAN_loyalist_uprising
			days = 90
		}
	}
}

# Contacting the Irish Unionists (fired by decision)
country_event = {
	id = canada.177
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.177" }
	title = canada.177.t
	desc = canada.177.d
	picture = GFX_report_event_CAN_army2

	is_triggered_only = yes

	option = {
		name = canada.177.a
		if = {
			limit = {
				NOT = { country_exists = IRE }
			}
			IRE = {
				transfer_state = 119
				hidden_effect = {
					add_manpower = 80000
					load_oob = "IRE_REV_FULL_SUPP"
					add_political_power = 100
					add_popularity = { ideology = paternal_autocrat popularity = 0.35 }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2500 producer = CAN }
					create_country_leader = {
						name = "Gearóid Ó Cuinneagáin"
						desc = "POLITICS_GEAROID_O_CUINNEAGAIN_DESC"
						picture = "Portrait_Ireland_Gearoid_O_Cuinneagain.tga"
						expire = "1965.1.1"
						ideology = paternal_autocrat_subtype
					}
					set_politics = {
						ruling_party = paternal_autocrat
						elections_allowed = no
					}
				}
			}
			add_to_faction = IRE
		}
		else = {
			set_country_flag = CAN_has_irish_loyalists
			add_manpower = 80000
			custom_effect_tooltip = CAN_unionists_spawn_ire
			hidden_effect = { load_oob = "IRE_REV_FULL_SUPP" }
		}
	}
}

# Informing ENG/IRE of uprising
country_event = {
	id = canada.178
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.178" }
	title = canada.178.t
	desc = canada.178.d
	picture = GFX_report_event_CAN_army2

	is_triggered_only = yes

	option = {
		name = canada.178.a
		add_manpower = -40000
		add_stability = -0.05
	}
}

# French resistance collapses
country_event = {
	id = canada.179
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.179" }
	title = canada.179.t
	desc = canada.179.d
	picture = GFX_report_event_CAN_army1

	fire_only_once = yes

	trigger = {
		tag = ENG
		has_capitulated = yes
		is_government_in_exile = yes
		NOT = { has_legitimacy > 20 }
		CAN = { is_faction_leader = yes }
		126 = {
			controller = {
				OR = {
					tag = CAN
					is_in_faction_with = CAN
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 10
	}

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event canada.179"
		hidden_effect = {
			if = {
				limit = {
					is_faction_leader = yes
					FRA = {
						is_in_faction_with = ENG
						has_capitulated = no
					}
				}
				FRA = { set_faction_leader = yes }
			}
			else_if = {
				limit = {
					is_faction_leader = yes
					SOV = {
						is_in_faction_with = ENG
						has_capitulated = no
					}
				}
				SOV = { set_faction_leader = yes }
			}
			else_if = {
				limit = {
					is_faction_leader = yes
					any_country = {
						is_actual_major = yes
						is_in_faction_with = ENG
						has_capitulated = no
					}
				}
				random_country = {
					limit = {
						is_actual_major = yes
						is_in_faction_with = ENG
						has_capitulated = no
					}
					set_faction_leader = yes
				}
			}
		}
	}

	option = {
		name = canada.179.a
		if = {
			limit = { is_faction_leader = yes }
			dismantle_faction = yes
		}
		else = {
			leave_faction = yes
		}
	}
}

# Denmark: Canada seizes Greenland
country_event = {
	id = canada.231
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.231" }
	title = canada.231.t
	desc = canada.231.d
	picture = GFX_report_event_CAN_army1

	is_triggered_only = yes

	option = {
		name = canada.231.a
		add_opinion_modifier = { target = FROM modifier = KR_hates_govt }
	}
}


### Post-War Events

# UK has been restored
country_event = {
	id = canada.300
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.300" }
	title = canada.300.t
	desc = canada.300.d
	picture = GFX_report_event_CAN_fleeing

	is_triggered_only = yes

	option = {
		name = canada.300.a
		add_war_support = -0.20
		add_timed_idea = {
			idea = CAN_british_exodus
			days = 365
		}
		if = {
			limit = { has_idea = CAN_Austen_Chamberlain_lobe_ade }
			remove_ideas = CAN_Austen_Chamberlain_lobe_ade
		}
		if = {
			limit = { has_idea = CAN_Henry_Page_Croft_lobe_pau }
			remove_ideas = CAN_Henry_Page_Croft_lobe_pau
		}
		if = {
			limit = { has_idea = CAN_Robert_Cecil_lobe_ade }
			remove_ideas = CAN_Robert_Cecil_lobe_ade
		}
		if = {
			limit = { has_idea = CAN_Anthony_Eden_lobe_ade }
			remove_ideas = CAN_Anthony_Eden_lobe_ade
		}
		if = {
			limit = { has_idea = CAN_Robert_Vansittart_lobe_ade }
			remove_ideas = CAN_Robert_Vansittart_lobe_ade
		}
		set_country_flag = Archibald_Montgomery_Massingberd_dead
		set_country_flag = Sir_Edmund_Ironside_dead
		set_country_flag = JFC_Fuller_dead
		set_country_flag = Claude_Auchinleck_dead
		set_country_flag = Harold_Alexander_dead
		set_country_flag = Dudley_Pound_dead
		set_country_flag = Sir_Roger_Backhouse_dead
		hidden_effect = {
			if = {
				limit = {
					is_subject = no
					OR = {
						has_government = authoritarian_democrat
						has_government = paternal_autocrat
					}
				}
				country_event = { id = canada.301 days = 3 }
			}
			else = {
				set_party_name = {
					ideology = authoritarian_democrat
					long_name = CAN_social_credit_party_long
					name = CAN_social_credit_party
				}
			}
		}
	}
}

# Restoring civilian government in Canada
country_event = {
	id = canada.301
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.301" }
	title = canada.301.t
	desc = canada.301.d
	picture = GFX_report_event_CAN_parliament1

	is_triggered_only = yes

	trigger = {
		is_subject = no
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	option = {
		name = canada.301.a
		if = {
			limit = { has_government = authoritarian_democrat }
			set_country_flag = CAN_was_authdem
			add_popularity = { ideology = authoritarian_democrat popularity = -0.20 }
		}
		if = {
			limit = { has_government = paternal_autocrat }
			set_country_flag = CAN_was_pataut
			add_popularity = { ideology = paternal_autocrat popularity = -0.20 }
		}
		if = {
			limit = { social_conservative < 0.40 }
			add_popularity = { ideology = social_conservative popularity = 0.10 }
		}
		meta_effect = {
			text = {
				set_politics = {
					ruling_party = social_conservative
					last_election = "[CURRENT_DATE]"
					election_frequency = 12
					elections_allowed = yes
				}
			}
			CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
		}
		hidden_effect = {
			if = {
				limit = { has_country_flag = CAN_cons_leader_manion }
				add_ideas = CAN_Robert_Manion_hog_sco
			}
			else_if = {
				limit = { has_country_flag = CAN_cons_leader_bracken }
				add_ideas = CAN_John_Bracken_hog_sco
			}
			else = {
				add_ideas = CAN_RB_Bennett_hog_sco
			}
			if = {
				limit = { has_country_flag = KR_british_king_base }
				CAN_add_british_pm_in_exile = yes
			}
			else = {
				add_ideas = CAN_Sidney_Earle_Smith_for_sco
			}
			if = {
				limit = { has_country_flag = CAN_cons_leader_bracken }
				add_ideas = CAN_Stephen_Leacock_eco_sco
			}
			else = {
				add_ideas = CAN_John_Bracken_eco_sco
			}
			if = {
				limit = { has_country_flag = CAN_nat_leader_diefenbaker }
				add_ideas = CAN_Gordon_Graydon_sec_sco
			}
			else = {
				add_ideas = CAN_John_Diefenbaker_sec_sco
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = CAN_social_credit_party_long
				name = CAN_social_credit_party
			}
		}
	}
}

# The Canadian Governor General (fired by UK focus)
country_event = {
	id = canada.302
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.302" }
	title = canada.302.t
	desc = canada.302.d
	picture = GFX_report_event_CAN_parliament1

	is_triggered_only = yes

	trigger = {
		CAN = {
			is_in_faction_with = GBR
			NOT = { has_country_flag = CAN_is_republic }
		}
	}

	option = { # appoint Prince Albert
		name = canada.302.a
		trigger = { has_global_flag = CAN_king_edward_VIII }
		ai_chance = {
			factor = 60
		}
		CAN = {
			set_country_flag = CAN_gov_gen_albert
			country_event = canada.303
		}
	}
	option = { # appoint Lord Mountbatten
		name = canada.302.b
		ai_chance = {
			factor = 40
		}
		add_political_power = 50
		if = {
			limit = { has_unit_leader = 931 }
			remove_unit_leader = 931
		}
		set_country_flag = Lord_Mountbatten_dead
		CAN = {
			set_country_flag = CAN_gov_gen_mountbatten
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = canada.303
		}
	}
	option = { # appoint John Vereker
		name = canada.302.c
		ai_chance = {
			factor = 20
		}
		add_political_power = 30
		if = {
			limit = { has_unit_leader = 938 }
			remove_unit_leader = 938
		}
		set_country_flag = John_Vereker_dead
		CAN = {
			set_country_flag = CAN_gov_gen_vereker
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = canada.303
		}
	}
	option = { # Appoint a Canadian
		name = canada.302.e
		ai_chance = {
			factor = 30
		}
		add_political_power = -50
		CAN = {
			set_country_flag = CAN_gov_gen_mcnaughton
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = canada.303
		}
	}
}

# Canada gets its new Governor General
country_event = {
	id = canada.303
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.303" }
	title = canada.303.t
	picture = GFX_report_event_royal_parade

	desc = {
		text = canada.303.d.albert
		trigger = { has_country_flag = CAN_gov_gen_albert }
	}
	desc = {
		text = canada.303.d.mountbatten
		trigger = { has_country_flag = CAN_gov_gen_mountbatten }
	}
	desc = {
		text = canada.303.d.vereker
		trigger = { has_country_flag = CAN_gov_gen_vereker }
	}
	desc = {
		text = canada.303.d.mcnaughton
		trigger = { has_country_flag = CAN_gov_gen_mcnaughton }
	}

	is_triggered_only = yes

	option = {
		name = canada.303.a
		if = {
			limit = { has_country_flag = CAN_gov_gen_albert }
			create_country_leader = {
				name = "Prince Albert"
				desc = "POLITICS_ALBERT_WINDSOR_DESC"
				picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.tga"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
			}
			create_country_leader = {
				name = "Prince Albert"
				desc = "POLITICS_ALBERT_WINDSOR_DESC"
				picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.tga"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
			}
			create_country_leader = {
				name = "Prince Albert"
				desc = "POLITICS_ALBERT_WINDSOR_DESC"
				picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.tga"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
			}
			create_country_leader = {
				name = "Prince Albert"
				desc = "POLITICS_ALBERT_WINDSOR_DESC"
				picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
			}
			create_country_leader = {
				name = "Prince Albert"
				desc = "POLITICS_ALBERT_WINDSOR_DESC"
				picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.tga"
				expire = "1965.1.1"
				ideology = authoritarian_democrat_subtype
			}
			create_country_leader = {
				name = "Prince Albert"
				desc = "POLITICS_ALBERT_WINDSOR_DESC"
				picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.tga"
				expire = "1965.1.1"
				ideology = paternal_autocrat_subtype
			}
		}
		if = {
			limit = { has_country_flag = CAN_gov_gen_mountbatten }
			add_political_power = -50
			subtract_from_variable = { CAN_was_king_popularity = 1 }
			create_country_leader = {
				name = "Lord Louis Mountbatten"
				picture = "gfx/leaders/CAN/Portrait_Canada_Louis_Mountbatten.tga"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
			}
			create_country_leader = {
				name = "Lord Louis Mountbatten"
				picture = "gfx/leaders/CAN/Portrait_Canada_Louis_Mountbatten.tga"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
			}
			create_country_leader = {
				name = "Lord Louis Mountbatten"
				picture = "gfx/leaders/CAN/Portrait_Canada_Louis_Mountbatten.tga"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
			}
			create_country_leader = {
				name = "Lord Louis Mountbatten"
				picture = "gfx/leaders/CAN/Portrait_Canada_Louis_Mountbatten.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
			}
			create_country_leader = {
				name = "Lord Louis Mountbatten"
				picture = "gfx/leaders/CAN/Portrait_Canada_Louis_Mountbatten.tga"
				expire = "1965.1.1"
				ideology = authoritarian_democrat_subtype
			}
			create_country_leader = {
				name = "Lord Louis Mountbatten"
				picture = "gfx/leaders/CAN/Portrait_Canada_Louis_Mountbatten.tga"
				expire = "1965.1.1"
				ideology = paternal_autocrat_subtype
			}
		}
		if = {
			limit = { has_country_flag = CAN_gov_gen_vereker }
			add_political_power = -30
			subtract_from_variable = { CAN_was_king_popularity = 1 }
			create_country_leader = {
				name = "John Vereker"
				picture = "gfx/leaders/ENG/Portrait_England_John_Vereker.tga"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
			}
			create_country_leader = {
				name = "John Vereker"
				picture = "gfx/leaders/ENG/Portrait_England_John_Vereker.tga"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
			}
			create_country_leader = {
				name = "John Vereker"
				picture = "gfx/leaders/ENG/Portrait_England_John_Vereker.tga"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
			}
			create_country_leader = {
				name = "John Vereker"
				picture = "gfx/leaders/ENG/Portrait_England_John_Vereker.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
			}
			create_country_leader = {
				name = "John Vereker"
				picture = "gfx/leaders/ENG/Portrait_England_John_Vereker.tga"
				expire = "1965.1.1"
				ideology = authoritarian_democrat_subtype
			}
			create_country_leader = {
				name = "John Vereker"
				picture = "gfx/leaders/ENG/Portrait_England_John_Vereker.tga"
				expire = "1965.1.1"
				ideology = paternal_autocrat_subtype
			}
		}
		if = {
			limit = { has_country_flag = CAN_gov_gen_mcnaughton }
			add_political_power = 50
			if = {
				limit = { has_unit_leader = 938 }
				remove_unit_leader = 938
			}
			create_country_leader = {
				name = "Andrew McNaughton"
				picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.tga"
				expire = "1965.1.1"
				ideology = social_democrat_subtype
			}
			create_country_leader = {
				name = "Andrew McNaughton"
				picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.tga"
				expire = "1965.1.1"
				ideology = social_liberal_subtype
			}
			create_country_leader = {
				name = "Andrew McNaughtonn"
				picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.tga"
				expire = "1965.1.1"
				ideology = market_liberal_subtype
			}
			create_country_leader = {
				name = "Andrew McNaughton"
				picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.tga"
				expire = "1965.1.1"
				ideology = social_conservative_subtype
			}
			create_country_leader = {
				name = "Andrew McNaughton"
				picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.tga"
				expire = "1965.1.1"
				ideology = authoritarian_democrat_subtype
			}
			create_country_leader = {
				name = "Andrew McNaughton"
				picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.tga"
				expire = "1965.1.1"
				ideology = paternal_autocrat_subtype
			}
		}
	}
}

# Debate on the referendum begins (fired by focus)
country_event = {
	id = canada.304
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.304" }
	title = canada.304.t
	desc = canada.304.d
	picture = GFX_report_event_CAN_commons2

	is_triggered_only = yes

	option = {
		name = canada.304.a
		hidden_effect = {
			if = {
				limit = {
					OR = {
						has_completed_focus = CAN_suppress_quebecois
						has_completed_focus = CAN_war_measures_act
					}
				}
				country_event = { id = canada.305 days = 8 random = 72 }
			}
			if = {
				limit = { check_variable = { CAN_was_king_popularity < 2 } }
				country_event = { id = canada.306 days = 15 random = 72 }
			}
			else = {
				country_event = { id = canada.307 days = 15 random = 72 }
			}
			country_event = { id = canada.308 days = 20 random = 72 }
			if = {
				limit = { has_completed_focus = CAN_war_measures_act }
				country_event = { id = canada.309 days = 25 random = 72 }
			}
			else = {
				country_event = { id = canada.310 days = 25 random = 72 }
			}
		}
	}
}

# Anti-Monarchy Demonstrations in Quebec (if suppressed)
country_event = {
	id = canada.305
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.305" }
	title = canada.305.t
	desc = canada.305.d
	picture = GFX_report_event_CAN_quebec1

	is_triggered_only = yes

	trigger = {
		is_subject = no
		has_elected_government = yes
		OR = {
			466 = { is_owned_and_controlled_by = CAN }
			468 = { is_owned_and_controlled_by = CAN }
			832 = { is_owned_and_controlled_by = CAN }
		}
	}

	option = {
		name = canada.305.a
		add_stability = -0.05
	}
}

# March on Rideau Hall (if 1 pop)
country_event = {
	id = canada.306
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.306" }
	title = canada.306.t
	desc = canada.306.d
	picture = GFX_report_event_CAN_rideau

	is_triggered_only = yes

	trigger = {
		is_subject = no
		has_elected_government = yes
		739 = { is_owned_and_controlled_by = CAN }
	}

	option = {
		name = canada.306.a
		add_stability = -0.05
	}
}

# Support for the King (if 2+ pop)
country_event = {
	id = canada.307
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.307" }
	title = canada.307.t
	desc = canada.307.d
	picture = GFX_report_event_CAN_crowd2

	is_triggered_only = yes

	trigger = {
		is_subject = no
		has_elected_government = yes
		276 = { is_owned_and_controlled_by = CAN }
	}

	option = {
		name = canada.307.a
		add_stability = -0.05
	}
}

# Address by the King
country_event = {
	id = canada.308
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.308" }
	title = canada.308.t
	desc = canada.308.d
	picture = GFX_report_event_CAN_microphone

	is_triggered_only = yes

	trigger = {
		is_subject = no
		has_elected_government = yes
	}

	option = {
		name = canada.308.a
		add_stability = 0.02
	}
}

# The Fleming Inquiry (if WMA invoked)
country_event = {
	id = canada.309
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.309" }
	title = canada.309.t
	picture = GFX_report_event_generic_reporters

	desc = {
		text = canada.309.d.wma
		trigger = { has_country_flag = CAN_was_authdem }
	}
	desc = {
		text = canada.309.d.pataut
		trigger = { has_country_flag = CAN_was_pataut }
	}

	is_triggered_only = yes

	trigger = {
		is_subject = no
		has_elected_government = yes
	}

	option = {
		name = canada.309.a
		if = {
			limit = { has_country_flag = CAN_was_authdem }
			add_political_power = -50
		}
		else = {
			add_political_power = -100
		}
		add_stability = -0.05
	}
}

# PM Calls for Unity (if no WMA invoked)
country_event = {
	id = canada.310
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.310" }
	title = canada.310.t
	desc = canada.310.d
	picture = GFX_report_event_CAN_cabinet

	is_triggered_only = yes

	trigger = {
		is_subject = no
		has_elected_government = yes
	}

	option = {
		name = canada.310.a
		add_stability = 0.02
		hidden_effect = {
			every_other_country = {
				limit = {
					is_in_faction_with = ROOT
					CAN_is_commonwealth_tag = yes
				}
				country_event = { id = canada.311 days = 1 }
			}
		}
	}
}

# Allies informed of impending vote
country_event = {
	id = canada.311
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.311" }
	title = canada.311.t
	desc = canada.311.d
	picture = GFX_report_event_CAN_parliament1

	is_triggered_only = yes

	option = {
		name = canada.311.a #Campaign hard for them to remain
		trigger = { tag = GBR }
		add_political_power = -100
		hidden_effect = {
			CAN = { set_country_flag = CAN_british_campaign_vote }
		}
	}
	option = {
		name = canada.311.b #It's their decision
		trigger = { tag = GBR }
	}
	option = {
		name = canada.311.c
		trigger = { NOT = { tag = GBR } }
	}
}

# The Referendum
country_event = {
	id = canada.315
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.315" }
	title = canada.315.t
	desc = canada.315.d
	picture = GFX_report_event_CAN_election

	is_triggered_only = yes

	trigger = {
		is_subject = no
		has_elected_government = yes
	}

	option = {
		name = canada.315.a #Cut ties with the monarchy
		ai_chance = {
			factor = 30
			modifier = {
				factor = 1.5
				check_variable = { CAN_was_king_popularity < 3 }
			}
			modifier = {
				factor = 1.5
				check_variable = { CAN_was_king_popularity < 2 }
			}
			modifier = {
				factor = 1.2
				has_completed_focus = CAN_suppress_quebecois
				OR = {
					466 = { is_owned_and_controlled_by = CAN }
					468 = { is_owned_and_controlled_by = CAN }
					832 = { is_owned_and_controlled_by = CAN }
				}
			}
			modifier = {
				factor = 1.5
				has_country_flag = CAN_was_authdem
			}
			modifier = {
				factor = 2
				has_country_flag = CAN_was_pataut
			}
		}
		clr_country_flag = CAN_british_campaign_vote
		clr_country_flag = CAN_was_authdem
		clr_country_flag = CAN_was_pataut
		set_country_flag = CAN_is_republic
		add_political_power = -200
		add_stability = -0.20
		custom_effect_tooltip = CAN_becomes_republic
		if = {
			limit = { CAF = { is_subject_of = CAN } }
			set_autonomy = {
				target = CAF
				autonomy_state = autonomy_free
			}
		}
		if = {
			limit = { AST = { is_subject_of = CAN } }
			set_autonomy = {
				target = AST
				autonomy_state = autonomy_free
			}
		}
		if = {
			limit = { NZL = { is_subject_of = CAN } }
			set_autonomy = {
				target = NZL
				autonomy_state = autonomy_free
			}
		}
		hidden_effect = {
			set_cosmetic_tag = CAN_republic
			CAN_create_republic = yes
			news_event = { id = canada.316 days = 1 }
		}
	}
	option = {
		name = canada.315.b #We are a loyal member of the Empire
		ai_chance = {
			factor = 70
			modifier = {
				factor = 1.5
				check_variable = { CAN_was_king_popularity > 2 }
			}
			modifier = {
				factor = 1.5
				check_variable = { CAN_was_king_popularity > 3 }
			}
			modifier = {
				factor = 2
				check_variable = { CAN_was_king_popularity > 4 }
			}
			modifier = {
				factor = 1.2
				has_completed_focus = CAN_new_quebec_status
				OR = {
					466 = { is_owned_and_controlled_by = CAN }
					468 = { is_owned_and_controlled_by = CAN }
					832 = { is_owned_and_controlled_by = CAN }
				}
			}
			modifier = {
				factor = 1.2
				has_country_flag = CAN_gov_gen_mcnaughton
			}
			modifier = {
				factor = 1.5
				has_country_flag = CAN_british_campaign_vote
			}
		}
		clr_country_flag = CAN_british_campaign_vote
		clr_country_flag = CAN_was_authdem
		clr_country_flag = CAN_was_pataut
		set_country_flag = CAN_loyal_to_britain
		add_political_power = 100
		add_stability = 0.05
		hidden_effect = {
			news_event = { id = canada.317 days = 1 }
		}
	}
}

# News: Canada cuts ties with the monarchy
news_event = {
	id = canada.316
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.316" }
	title = canada.316.t
	desc = canada.316.d
	picture = GFX_news_event_CAN_parliament

	is_triggered_only = yes
	major = yes

	trigger = {
		wants_world_news = yes
	}

	option = {
		name = canada.316.a
		trigger = {
			OR = {
				tag = CAN
				tag = GBR
				is_in_faction_with = GBR
			}
		}
	}
	option = {
		name = canada.316.b
		trigger = {
			NOT = {
				tag = CAN
				tag = GBR
				is_in_faction_with = GBR
			}
		}
	}
}

# News: Canada referendum fails
news_event = {
	id = canada.317
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.317" }
	title = canada.317.t
	desc = canada.317.d
	picture = GFX_news_event_CAN_parliament

	is_triggered_only = yes
	major = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		OR = {
			regional_north_america_news = yes
			tag = GBR
			is_in_faction_with = GBR
		}
	}

	option = {
		name = canada.317.a
		trigger = {
			OR = {
				tag = CAN
				tag = GBR
				is_in_faction_with = GBR
			}
		}
	}
	option = {
		name = canada.317.b
		trigger = {
			NOT = {
				tag = CAN
				tag = GBR
				is_in_faction_with = GBR
			}
		}
	}
}

# Quebec nationalists win provincial election
country_event = {
	id = canada.318
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.318" }
	title = canada.318.t
	desc = canada.318.d
	picture = GFX_report_event_CAN_quebec2

	fire_only_once = yes

	trigger = {
		tag = CAN
		is_subject = no
		has_elected_government = yes
		owns_state = 466 #Quebec
		OR = {
			has_completed_focus = CAN_canadian_referendum
			has_completed_focus = CAN_loyalty_to_the_empire
		}
		NOT = { has_completed_focus = CAN_new_quebec_status }
		has_country_flag = CAN_loyal_to_britain
		controls_all_owned_states = yes
	}

	mean_time_to_happen = {
		months = 4
	}

	option = {
		name = canada.318.a
		add_stability = -0.05
		add_popularity = { ideology = national_populist popularity = 0.05 }
		hidden_effect = {
			country_event = { id = canada.319 days = 30 random = 720 }
		}
	}
}

# Patriation of the Canadian Constitution (fired by focus)
country_event = {
	id = canada.321
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.321" }
	title = canada.321.t
	desc = canada.321.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes

	option = {
		name = canada.321.a
		add_political_power = 100
	}
}

# The Birth of Canadian nationalism (fired by focus)
country_event = {
	id = canada.322
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.322" }
	title = canada.322.t
	desc = canada.322.d
	picture = GFX_report_event_CAN_crowd2

	is_triggered_only = yes

	option = {
		name = canada.322.a
		add_war_support = 0.10
		add_popularity = { ideology = national_populist popularity = 0.05 }
		unlock_decision_tooltip = CAN_withdraw_from_entente
		unlock_decision_tooltip = CAN_claim_alaska
		unlock_decision_tooltip = CAN_claim_washington
		unlock_decision_tooltip = CAN_claim_maine
		hidden_effect = {
			country_event = { id = canada.325 days = 60 }
		}
	}
}

# News: Canada withdraws from the Entente
news_event = {
	id = canada.323
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.323" }
	title = canada.323.t
	desc = canada.323.d
	picture = GFX_news_event_CAN_parliament

	is_triggered_only = yes
	major = yes

	trigger = {
		wants_world_news = yes
	}

	option = {
		name = canada.323.a
		trigger = { tag = CAN }
	}
	option = {
		name = canada.323.b
		trigger = {
			OR = {
				tag = ENT
				is_in_faction_with = ENT
			}
		}
	}
	option = {
		name = canada.323.c
		trigger = {
			NOT = {
				tag = CAN
				tag = ENT
				is_in_faction_with = ENT
			}
		}
	}
}

# Canada claims a state
country_event = {
	id = canada.324
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.324" }
	title = canada.324.t
	desc = canada.324.d
	picture = GFX_report_event_CAN_army1

	is_triggered_only = yes

	option = {
		name = canada.324.a
		add_opinion_modifier = { target = FROM modifier = KR_hates_govt }
		if = {
			limit = { gives_military_access_to = FROM }
			FROM = {
				diplomatic_relation = {
					country = ROOT
					relation = military_access
					active = no
				}
			}
		}
		if = {
			limit = { FROM = { gives_military_access_to = ROOT } }
			diplomatic_relation = {
				country = FROM
				relation = military_access
				active = no
			}
		}
		if = {
			limit = { has_non_aggression_pact_with = FROM }
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
				active = no
			}
		}
	}
}

# Diefenbaker takes over the Nationalist Party
country_event = {
	id = canada.325
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.325" }
	title = canada.325.t
	desc = canada.325.d
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes

	option = {
		name = canada.325.a
		add_popularity = { ideology = national_populist popularity = 0.05 }
		set_country_flag = CAN_nat_leader_diefenbaker
		create_country_leader = {
			name = "John Diefenbaker"
			picture = "Portrait_Canada_John_Diefenbaker.tga"
			expire = "1965.1.1"
			ideology = national_populist_subtype
		}
		if = {
			limit = { has_idea = CAN_John_Diefenbaker_sec_sco }
			remove_ideas = CAN_John_Diefenbaker_sec_sco
			add_ideas = CAN_Gordon_Graydon_sec_sco
		}
	}
}

# Canadian investments in Britain (fired by focus)
country_event = {
	id = canada.326
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.326" }
	title = canada.326.t
	desc = canada.326.d
	picture = GFX_report_event_generic_factory

	is_triggered_only = yes

	option = {
		name = canada.326.a
		add_ideas = CAN_canadian_investments_1
	}
}

# New officers for Canada (fired by focus)
country_event = {
	id = canada.327
	immediate = { log = "[GetDateText]: [Root.GetName]: event canada.327" }
	title = canada.327.t
	desc = canada.327.d
	picture = GFX_report_event_british_inspect_troops

	is_triggered_only = yes

	option = {
		name = canada.327.a
		create_corps_commander = {
			name = "John Hamilton Roberts"
			portrait_path = "gfx/leaders/CAN/Portrait_Canada_John_Hamilton_Roberts.tga"
			traits = {
				war_hero
				winter_expert
				panzer_leader
			}
			skill = 3
			attack_skill = 3
			defense_skill = 2
			planning_skill = 4
			logistics_skill = 4
		}
		create_corps_commander = {
			name = "H.L.N. Salmon"
			portrait_path = "gfx/leaders/CAN/Portrait_Canada_HLN_Salmon.tga"
			traits = {
				infantry_officer
				commando
				skirmisher
			}
			skill = 3
			attack_skill = 4
			defense_skill = 2
			planning_skill = 2
			logistics_skill = 2
		}
		create_corps_commander = {
			name = "George Kitching"
			portrait_path = "gfx/leaders/CAN/Portrait_Canada_George_Kitching.tga"
			traits = {
				career_officer
				trait_engineer
				fortress_buster
			}
			skill = 2
			attack_skill = 2
			defense_skill = 2
			planning_skill = 3
			logistics_skill = 3
		}
		create_navy_leader = {
			name = "Horatio Nelson Lay"
			portrait_path = "gfx/leaders/CAN/Portrait_Canada_Horatio_Lay.tga"
			traits = {
				fly_swatter
				cruiser_captain
			}
			skill = 3
			attack_skill = 4
			defense_skill = 3
			maneuvering_skill = 3
			coordination_skill = 4
		}
	}
}

